---
date of creation: 2024-07-15T09:48:00
tags:
  - HTML
  - HTML5
  - Web
  - Web/HTML
  - Developing
  - Developing/HTML5
  - IT
  - IT/WEB
  - IT/HTML
read status: true
aliases:
  - HTML5 немного базы
---
---
# Введение в HTML5


Язык HTML5 стал существенным шагом вперед в веб-дизайне, разметке и удобстве применения. Он предоставляет простой способ работы с графикой в браузере без обращения к дополнительным модулям, например к Flash, а также предлагает методы вставки аудио и видео в веб-страницы (опять-таки без дополнительных модулей) и сглаживает некоторые досадные несоответствия, вкравшиеся в HTML по мере его развития.

Кроме того, HTML5 включает множество других усовершенствований, например обработку местоположения пользователя, рабочие веб-процессы (web workers), управляющие выполнением фоновых задач, улучшенную обработку форм и доступ к пакетам локального хранилища (значительно превышающим ограниченные возможности cookie).

Но в отношении HTML5 следует отметить один курьезный факт: поскольку этот язык находился в постоянном развитии, присущими ему свойствами различные браузеры обзаводились в разное время. К счастью, все наиболее значимые и популярные добавления, пришедшие с HTML5, теперь уже пользуются поддержкой всех основных браузеров (занимающих долю на рынке, превышающую 1 % или около того, включая такие браузеры, как Chrome, Internet Explorer, Edge, Firefox, Safari и Opera, а также браузеры Android и iOS).


## Холст
---

Первоначально представленный компанией Apple для движка визуализации [[WebKit]] (который сам произошел от движка разметки KDE HTML) для своего браузера Safari, элемент canvas (*холст*) позволяет вам рисовать графические элементы на веб-странице независимо от таких дополнительных модулей, как Java или Flash. После стандартизации холст был принят всеми браузерами и сейчас стал популярным средством современной веб-разработки.

Как и другие HTML-элементы, холст — это просто элемент в составе веб-страницы с определенными размерами, внутри которого можно использовать JavaScript для вставки содержимого, в данном случае для рисования графики.

Холст создается с помощью тега **`<canvas>`**, которому также нужно присвоить идентификатор, чтобы в коде JavaScript было понятно, к какому именно холсту идет обращение (ведь на странице может быть несколько холстов).

В **примере 25.1** создан элемент **`canvas`** с идентификатором **`mycanvas`**, содержащий текст, выводимый только теми браузерами, которые не поддерживают холсты. Далее следует раздел JavaScript, рисующий на холсте японский флаг (**рис. 25.1**).

![[Рис. 25.1. Рисование японского флага на холсте HTML5.jpg]]
>**Рис. 25.1.** Рисование японского флага на холсте HTML5
>
>**Пример 25.1.** Использование имеющегося в HTML5 элемента **`canvas`**
```html
<!DOCTYPE html>
<html>
  <head>
    <title>The HTML5 Canvas</title>
    <script src='OSC.js'></script>
  </head>
  <body>
    <canvas id='mycanvas' width='320' height='240'>
      This is a canvas element given the ID <i>mycanvas</i>
      This text is only visible in non-HTML5 browsers
    </canvas>
    <script>
      canvas            = O('mycanvas')
      context           = canvas.getContext('2d')
      context.fillStyle = 'red'
      S(canvas).border  = '1px solid black'

      context.beginPath()
      context.moveTo(160, 120)
      context.arc(160, 120, 70, 0, Math.PI * 2, false)
      context.closePath()
      context.fill()
    </script>
  </body>
</html>
```

Рассматривать подробности происходящего на данный момент не имеет смысла, поскольку все будет объяснено в [[Холсты в HTML5]], но уже сейчас вы должны понять, что использовать холст совсем не трудно, хотя для этого потребуется изучить несколько новых функций JavaScript. Чтобы сохранить ясность и компактность кода, в этом примере при рисовании используется набор функций **`OSC.js`** из [[Доступ к CSS из JavaScript]].


## Геолокация
---

При использовании *геолокации* ваш браузер может вернуть веб-серверу информацию о вашем местонахождении. Эта информация может поступать из микросхемы GPS, имеющейся в используемом компьютере или мобильном устройстве, с вашего IP-адреса или путем анализа ближайших точек доступа к Wi-Fi. В целях безопасности пользователь всегда контролирует ситуацию и может отказать в предоставлении этой информации на разовой основе или включить настройки либо на постоянное блокирование, либо на предоставление доступа к этим данным с одного или со всех сайтов.

Эта технология имеет множество вариантов применения, включая пошаговую навигацию, предоставление местных карт, уведомление о ближайших ресторанах, о точках доступа Wi-Fi или о других местах, уведомление о тех друзьях, которые находятся рядом, указание направления на ближайшую заправку и многое другое.

В **примере 25.2** будет отображена карта Google с учетом местоположения пользователя при условии, что браузер поддерживает геолокацию и пользователь предоставил доступ к своему местоположению (как показано на **рис. 25.2**). В противном случае будет выведено сообщение об ошибке.

>**Пример 25.2.** Вывод карты с учетом местоположения пользователя
```html
<!DOCTYPE html>
<html> <!-- geolocation.html -->
  <head>
    <title>Geolocation Example</title>
  </head>
  <body>
    <script>
      if (typeof navigator.geolocation == 'undefined')
         alert("Geolocation not supported.")
      else
        navigator.geolocation.getCurrentPosition(granted, denied)

      function granted(position)
      {
        var lat = position.coords.latitude
        var lon = position.coords.longitude
        
        alert("Permission Granted. You are at location:\n\n"
          + lat + ", " + lon +
          "\n\nClick 'OK' to load Google Maps with your location")

        window.location.replace("https://www.google.com/maps/@"
          + lat + "," + lon + ",14z")
      }

      function denied(error)
      {
        var message

        switch(error.code)
        {
          case 1: message = 'Permission Denied'; break;
          case 2: message = 'Position Unavailable'; break;
          case 3: message = 'Operation Timed Out'; break;
          case 4: message = 'Unknown Error'; break;
        }

        alert("Geolocation Error: " + message)
      }
    </script>
  </body>
</html>
```
>![[Рис. 25.2. Местоположение пользователя применялось для отображения карты.jpg]]
>**Рис. 25.2.** Местоположение пользователя применялось для отображения карты

Здесь опять нет смысла давать описание того, как все это работает, поскольку подробное рассмотрение данного вопроса предстоит в [[Другие свойства HTML5]]. А сейчас этот пример нужен, чтобы показать вам, насколько просто можно управлять геолокацией.


## Аудио и видео
---

Еще одним существенным дополнением, появившимся в HTML5, стала поддержка аудио и видео в самом браузере. Хотя проигрывание этого типа аудиовизуальных данных может представлять некоторые сложности из-за разнообразия типов кодирования и лицензий, элементы **`<audio>`** и **`<video>`** дают всю необходимую гибкость для отображения доступных вам типов аудиовизуальной информации.

В **примере 25.3** один и тот же видеофайл был закодирован в различных форматах, чтобы были учтены возможности всех основных браузеров. Браузеры просто выбирают первый из опознанных ими типов и проигрывают его (**рис. 25.3**).

>![[Рис. 25.3. Показ видео с помощью HTML5.jpg]]
>**Рис. 25.3.** Показ видео с помощью HTML5
>
>**Пример 25.3.** Проигрывание видео с помощью HTML5
```html
<!DOCTYPE html>
<html>
  <head>
    <title>HTML5 Video</title>
  </head>
  <body>
    <video width='560' height='320' controls>
      <source src='movie.mp4'  type='video/mp4'>
      <source src='movie.webm' type='video/webm'>
      <source src='movie.ogv'  type='video/ogg'>
    </video>
  </body>
</html>
```

Вопрос о том, насколько просто аудио вставляется в веб-страницу, будет рассмотрен в [[Аудио и видео в HTML5]].


## Формы
---

Как вы уже видели в [[Обработка форм]], формы в HTML5 находятся в процессе усовершенствования, при этом поддержка новых свойств во всех браузерах носит фрагментарный характер. Все, что сегодня можно свободно использовать, было подробно рассмотрено в [[Обработка форм]].


## Локальное хранилище
---

==При использовании локального хранилища объем и сложность данных, сохраняемых на локальном устройстве, существенно возрастают по сравнению со скудными объемами, представлявшимися cookie.== Тем самым открываются возможности использования веб-приложений для работы с документами в автономном режиме, с их последующей синхронизацией с веб-сервером, когда интернет-подключение станет доступным. Кроме того, открываются перспективы локального сохранения небольших баз данных для доступа к ним с помощью [[WebSQL]], возможно, с целью сохранения копии вашей музыкальной коллекции или всей вашей персональной статистики, к примеру, в виде части плана диеты или похудения. Как задействовать большинство этих возможностей в ваших веб-проектах, будет показано в [[Другие свойства HTML5]].


## Рабочие веб-процессы
---

Возможность запускать с помощью JavaScript в фоновом режиме приложения, управляемые прерываниями, существует уже многие годы, но реализуется только лишь посредством довольно грубого и неэффективного процесса. Было бы намного разумнее позволить технологии, положенной в основу браузера, запускать от вашего имени фоновые задачи, которые она смогла бы выполнять гораздо быстрее, чем при ваших постоянных прерываниях работы с целью проверки текущего состояния дел.

Вместо этого можно все настроить в виде *рабочих веб-процессов* и передать ваш код браузеру, который затем его запустит. Когда произойдет что-либо значимое, ваш код просто должен будет уведомить браузер, который затем сообщит все это вашему основному коду. В то же самое время ваша веб-страница может пребывать в бездействии или выполнять ряд других задач и при этом напрочь забыть о фоновой задаче, пока та сама о себе не напомнит.

В [[Другие свойства HTML5]] будет показано, как можно воспользоваться *рабочими веб-процессами* для создания простых часов и вычисления простых чисел.


## Вопросы
---

- [x] 1. Какие элементы в HTML5 позволяют рисовать графические изображения на веб-странице?
- [x] 2. Какой язык программирования требуется для доступа ко многим улучшенным свойствам HTML5?
- [x] 3. Какими тегами вы воспользуетесь для внедрения аудио и видео в веб-страницу?
- [x] 4. Какое свойство HTML5 предлагает более широкие возможности по сравнению с cookie?
- [x] 5. Какая имеющаяся в HTML5 технология поддерживает запуск фоновых задач на JavaScript?


---