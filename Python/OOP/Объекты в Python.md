
# Объекты в Python
---



Итак, два первых основных правила работы объектов Python:

- в Python все является объектами;
-  каждый объект определяется как экземпляр хотя бы одного класса.

 `>>>type('Hello, world!')`
 `<class 'str'>`
 `>>>type(32)`
 `<class 'int'>`

Оператор class создает новое опре­деление класса. При создании экземпляра класса объект класса будет исполь­зоваться для создания и инициализации *объекта-экземпляра*.

В чем разница между классом и типом? Оператор class позволяет определять новые типы. Поскольку мы используем оператор class, далее будем называть эти типы классами. Для получения более подробной информации вы може­те прочитать статью Pythoп objects, types, classes, апd iпstaпces - а glossary («Объекты, типы, классы и экземпляры Python - глоссарий>> ) 1 Эли Бендерский. В ней можно найти следующее высказывание: «Термины "класс" и "тип " - синонимы, относящиеся к одному и тому же*'. [Pythoп objects, types, classes, апd iпstaпces](https://eli.thegreenplace.net/2012/03/30/python-objects-types-classes-and-instances-a-glossary)

Существует еще одно важное правило: переменная - это ссылка на объект. В ка­честве примера представьте стикер желтого цвета с написанным на нем назва­нием, который можно наклеить на предмет, тем самым определяя этот предмет.


## Аргумент **`self`**

Аргумент ==`self`== - это ссылка на объект, для которого вызывается метод. Объект является экземпляром класса, и его иногда называют переменной экземпляра.

Единственное синтаксическое различие между методами классов и функциями вне классов состоит в том, что методы содержат один обязательный аргумент. Этот аргумент условно называется **self.** Мы никогда не видели, чтобы програм­мист Python использовал какое-либо другое имя для такой переменной (обще­принятые нормы для условных обозначений - очень мощная вещь). Конечно, технически ничто не мешает присвоить переменной, например, имя Martha. Однако рекомендуется придерживаться всеми признанных правил Python.

*Обратите внимание на проявившиеся здесь различия между классом и объектом. Можно предполагать, что метод - это функция, добавленная к классу. Параметр self относится к конкретному экземпляру класса. Когда вы вызываете метод для двух разных объектов, вы вызываете один и тот же метод дважды, но в качестве параметра self передаете два разных объекта.*


## Инициализация объекта
---

Большинство объектно-ориентированных языков программирования имеют концепцию конструктора, специального метода, который создает и инициали­зирует объект при его создании. Python немного отличается. Python имеет кон­структор и инициализатор. Метод конструктора **`__new__()`** используется очень редко. Итак, в первую очередь рассмотрим метод инициализации `__init__()`.

Метод инициализации Python такой же, как и любой другой метод, за исклю­чением того, что он имеет специальное имя `__init__`. Двойные подчеркивания в начале и в конце означают, что это особый метод, который интерпретатор Python будет определять как особый случай.

**Примечание
*Никогда не присваивайте собственным методам имена с двойным под­черкиванием в начале и в конце. Подобное имя может ничего не значить для Python сейчас, но всегда есть вероятность, что разработчики Python добавят в будущем функцию с таким же вот именем, имеющую особое назначение. И когда они это сделают, ваш код перестанет работать.*

В большинстве случаев операторы инициализации размещаются в функ­ции `__init__()` Очень важно убедиться, что все атрибуты инициализированы . в методе `__init__()` Это удобно для работы инструмента *mуру*: все атрибуты, представлены в одном очевидном предсказуемом месте. Это также помогает другим разработчикам разбираться в вашем ПО и избавляет от необходимости читать весь код, чтобы найти нужные атрибуты, если они установлены вне определения класса.


## Доступность данных
---

По соглашению мы в сообществе Python обычно ставим перед внутренним атрибутом или методом префикс - символ подчеркивания (_). Программисты Python поймут, что знак подчеркивания в начале означает, что это внутренняя переменная, и вы хорошо подумайте, прежде чем обращаться к ней напрямую.

Также можно следующим способом убедить внешние объекты не обращаться к свойству или методу: добавить перед его именем символ двойного подчерки­вания (__ ) Да, это повлечет изменение **только имени рассматриваемого атри­бута.** По сути, изменение имени означает, что метод технически все еще может быть вызван внешними объектами, но по крайней мере вы укажете на то, что, по вашему мнению, этот атрибут должен оставаться приватным.

При использовании символа двойного подчеркивания свойство содержит 
пре­фикс `__<classname>`. Когда методы внутри класса обращаются к такой переменной,
они автоматически оказываются подготовленными к работе с таким ее именем. Когда внешние классы хотят получить к ней доступ, они должны сами позабо­титься и учесть префикс. Таким образом, только изменение имени не гарантирует конфиденциальности, оно лишь рекомендует ее соблюдение. На практике это очень редко используется, и уж если используется, то, как правило, возникают сложности.

Принцип ==инкапсуляции== применяется как к отдельным классам, так и к модулю с множеством классов, да и к пакету с множеством модулей. Как разработчики объектно-ориентированного Python, мы разделяем обязанности и четко ==инкап­сулируем== функции.


## Ключевые моменты
---

-  Python содержит необязательные подсказки типов, помогающие описать взаимосвязь объектов данных и указывающие, какими должны быть пара­ метры методов и функций.

-  Классы Python создаются с помощью оператора class. Атрибуты должны быть инициализированы в специальном методе `__init__( )`.

-  Модули и пакеты используются как группы классов более высокого уровня.

-  Необходимо продумывать содержимое модулей. Хотя существует общепри­нятое правило «плоский лучше, чем вложенный», есть несколько случаев, когда вложенные пакеты могут быть полезны.

-  В Python отсутствует понятие «приватных» данных. Разработчики часто говорят: «Мы все взрослые, не нужны никакие запреты». Мы можем видеть исходный код, и приватные данные не принесут пользы. Отказ от приватных данных не изменит проект, а просто устранит необходимость в нескольких ключевых словах.

-  Есть возможность устанавливать сторонние пакеты с помощью инструментов PIP,     создавать виртуальную среду, например, с помощью инструмента `venv`.

Читайте так же про [[Объекты и классы]]