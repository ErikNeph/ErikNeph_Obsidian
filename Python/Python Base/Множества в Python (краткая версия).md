---
title: Множества в Python (краткая версия)
date of creation: 2025-02-15T11:27:00
tags:
  - Sets
  - Python
  - Developing
  - IT
  - Python/Developing
  - Developing/Python
read status: true
completion status: true
aliases:
  - Python множества в краткой форме
---
# Множества в Python (краткая версия)
---

1.  Методы `union()`, `intersection()`, `difference()`, `symmetric_difference()`
2.  Методы `update()`, `intersection_update()`, `difference_update()`, `symmetric_difference_update()`
3.  Операторы `&`, `|`, `-`, `^`

**Аннотация.** Урок посвящен методам множеств, которые реализуют основные операции над множествами.

## Операции над множествами

Основные операции над множествами:

-   объединение множеств;
-   пересечение множеств;
-   разность множеств;
-   симметрическая разность множеств.

Для каждой операции есть метод и оператор.

### Объединение множеств: метод union()

**Объединение** множеств – это множество, состоящее из элементов, принадлежащих хотя бы одному из объединяемых множеств. Для этой операции существует метод `union()`.

![](https://ucarecdn.com/f6d28b9d-3d55-4ca9-9e50-d46044048ae5/)

Приведенный ниже код:

```python
myset1 = {1, 2, 3, 4, 5} myset2 = {3, 4, 6, 7, 8} myset3 = myset1.union(myset2) print(myset3)
```

выводит (порядок элементов может отличаться):

```no
{1, 2, 3, 4, 5, 6, 7, 8}
```

>[!info]
>![|50](https://ucarecdn.com/b9feac5f-3761-45c2-9ede-8755587c9e30/)Обратите внимание, метод `union()` **возвращает новое множество** в которое входят все элементы множеств `myset1` и `myset2`. Для изменения текущего множества используется метод `update()`.

Для объединения двух множеств можно также использовать оператор `|`.

Результат выполнения приведенного ниже кода:

```python
myset1 = {1, 2, 3, 4, 5} myset2 = {3, 4, 6, 7, 8} myset3 = myset1 | myset2 print(myset3)
```

аналогичен предыдущему.

### Пересечение множеств: метод intersection()

**Пересечение** множеств – это множество, состоящее из элементов, принадлежащих одновременно каждому из пересекающихся множеств. Для этой операции существует метод `intersection()`.

![](https://ucarecdn.com/0a6efc05-4880-4d62-9b7a-10485fea226a/)

Приведенный ниже код:

```python
myset1 = {1, 2, 3, 4, 5} myset2 = {3, 4, 6, 7, 8} myset3 = myset1.intersection(myset2) print(myset3)
```

выводит (порядок элементов может отличаться):

```no
{3, 4}
```

>[!info]
![|50](https://ucarecdn.com/c708933e-97d9-4379-8c82-fd1c13554a80/)Обратите внимание, метод `intersection()` возвращает новое множество в которое входят общие элементы множеств `myset1` и `myset2`. Для изменения текущего множества используется метод `intersection_update()`.

Для пересечения двух множеств можно также использовать оператор `&`.

Результат выполнения приведенного ниже кода:

```python
myset1 = {1, 2, 3, 4, 5} myset2 = {3, 4, 6, 7, 8} myset3 = myset1 & myset2 print(myset3)
```

аналогичен предыдущему.

### Разность множеств: метод difference()

**Разность** множеств – это множество, в которое входят все элементы первого множества, не входящие во второе множество. Для этой операции существует метод `difference()`.

![](https://ucarecdn.com/79d459e1-7f36-4bb7-89f9-1ff791cab19b/)

Приведенный ниже код:

```python
myset1 = {1, 2, 3, 4, 5} myset2 = {3, 4, 6, 7, 8} myset3 = myset1.difference(myset2) print(myset3)
```

выводит (порядок элементов может отличаться):

```no
{1, 2, 5}
```

Для разности двух множеств можно также использовать оператор `-`.

Результат выполнения приведенного ниже кода:

```python
myset1 = {1, 2, 3, 4, 5} myset2 = {3, 4, 6, 7, 8} myset3 = myset1 - myset2 print(myset3)
```

аналогичен предыдущему.

Обратите внимание: для операции разности множеств важен порядок, в котором указаны множества. Если поменять местами `myset1` и `myset2`, нас ожидает совсем другой результат: элементы, входящие в множество `myset2` и которых нет в множестве `myset1`. 

Приведенный ниже код:

```python
myset1 = {1, 2, 3, 4, 5} myset2 = {3, 4, 6, 7, 8} myset3 = myset2.difference(myset1) print(myset3)
```

выводит (порядок элементов может отличаться):

```no
{8, 6, 7}
```

### Симметрическая разность: метод symmetric\_difference()

**Симметрическая разность** множеств – это множество, включающее все элементы исходных множеств, не принадлежащие одновременно обоим исходным множествам. Для этой операции существует метод `symmetric_difference()`.

![](https://ucarecdn.com/fe138377-bf00-4607-8500-9b2262c15744/)

Приведенный ниже код:

```python
myset1 = {1, 2, 3, 4, 5} myset2 = {3, 4, 6, 7, 8} myset3 = myset1.symmetric_difference(myset2) print(myset3)
```

выводит (порядок элементов может отличаться):

```no
{1, 2, 5, 6, 7, 8}
```

Для симметрической разности двух множеств можно также использовать оператор `^`.

Результат выполнения приведенного ниже кода:

```python
myset1 = {1, 2, 3, 4, 5} myset2 = {3, 4, 6, 7, 8} myset3 = myset1 ^ myset2 print(myset3)
```

аналогичен предыдущему.

>[!info]
![|50](https://ucarecdn.com/d8ca2d33-0d4a-45df-88a3-580d71d8ed20/)Обратите внимание: для операции симметрической разности порядок множеств неважен, на то она и симметрическая: `myset1 ^ myset2 == myset2 ^ myset1`.

## Методы множеств, изменяющие текущие множества

Методы `union()`, `intersection()`, `difference()`, `symmetric_difference()` не изменяют исходные множества, а возвращают новые. Часто на практике нужно изменять исходные множества. Для таких целей используются парные методы `update()`, `intersection_update()`, `difference_update()`, `symmetric_difference_update()`.

### Метод update()

Метод `update()` изменяет исходное множество **по объединению**.

Приведенный ниже код:

```python
myset1 = {1, 2, 3, 4, 5} myset2 = {3, 4, 6, 7, 8} myset1.update(myset2) # изменяем множество myset1 print(myset1)
```

выводит (порядок элементов может отличаться):

```no
{1, 2, 3, 4, 5, 6, 7, 8}
```

Аналогичный результат получается, если использовать оператор `|=`:

```python
myset1 = {1, 2, 3, 4, 5} myset2 = {3, 4, 6, 7, 8} myset1 |= myset2 print(myset1)
```

### Метод intersection\_update()

Метод `intersection_update()` изменяет исходное множество **по пересечению**.

Приведенный ниже код:

```python
myset1 = {1, 2, 3, 4, 5} myset2 = {3, 4, 6, 7, 8} myset1.intersection_update(myset2) # изменяем множество myset1 print(myset1)
```

выводит (порядок элементов может отличаться):

```no
{3, 4}
```

Аналогичный результат получается, если использовать оператор `&=`:

```python
myset1 = {1, 2, 3, 4, 5} myset2 = {3, 4, 6, 7, 8} myset1 &= myset2 print(myset1)
```

### Метод difference\_update()

Метод `difference_update()` изменяет исходное множество **по разности**.

Приведенный ниже код:

```python
myset1 = {1, 2, 3, 4, 5} myset2 = {3, 4, 6, 7, 8} myset1.difference_update(myset2) # изменяем множество myset1 print(myset1)
```

выводит (порядок элементов может отличаться):

```no
{1, 2, 5}
```

Аналогичный результат получается, если использовать оператор `-=`:

```python
myset1 = {1, 2, 3, 4, 5} myset2 = {3, 4, 6, 7, 8} myset1 -= myset2 print(myset1)
```

### Метод symmetric\_difference\_update()

Метод `symmetric_difference_update()` изменяет исходное множество **по симметрической разности**.

Приведенный ниже код:

```python
myset1 = {1, 2, 3, 4, 5} myset2 = {3, 4, 6, 7, 8} myset1.symmetric_difference_update(myset2) # изменяем множество myset1 print(myset1)
```

выводит (порядок элементов может отличаться):

```no
{1, 2, 5, 6, 7, 8}
```

Аналогичный результат получается, если использовать оператор `^=`:

```python
myset1 = {1, 2, 3, 4, 5} myset2 = {3, 4, 6, 7, 8} myset1 ^= myset2 print(myset1)
```

## Примечания

**Примечание 1.** Все основные операции над множествами выполняются двумя способами: при помощи метода или соответствующего ему оператора. Различие заключается в том, что метод может принимать в качестве аргумента не только множество (тип данных `set`), но и любой итерируемый объект (список, строку, кортеж..).

Приведенный ниже код:

```python
mylist = [2021, 2020, 2019, 2018, 2017, 2016] mytuple = (2021, 2020, 2016) mystr = 'abcd' myset = {2009, 2010, 2016} print(myset.union(mystr)) # объединяем со строкой print(myset.intersection(mylist)) # пересекаем со списком print(myset.difference(mytuple)) # находим разность с кортежем
```

выводит (порядок элементов может отличаться):

```no
{2016, 'c', 'b', 'a', 'd', 2009, 2010} {2016} {2009, 2010}
```

Приведенный ниже код:

```python
mylist = [2021, 2020, 2019, 2018, 2017, 2016] mytuple = (2021, 2020, 2016) mystr = 'abcd' myset = {2009, 2010, 2016} print(myset | mystr) print(myset & mylist) print(myset - mytuple)
```

приводит к возникновению ошибок:

```no
TypeError: unsupported operand type(s) for |: 'set' and 'str' TypeError: unsupported operand type(s) for &: 'set' and 'list' TypeError: unsupported operand type(s) for -: 'set' and 'tuple'
```

**Примечание 2.** Некоторые методы (`union()`, `intersection()`, `difference()`) и операторы (`|`, `&`, `-`, `^`) позволяют совершать операции над несколькими множествами сразу.

Приведенный ниже код:

```python
myset1 = {1, 2, 3, 4, 5, 6} myset2 = {2, 3, 4, 5} myset3 = {5, 6, 7, 8} union1 = myset1.union(myset2, myset3) union2 = myset1 | myset2 | myset3 difference1 = myset1.difference(myset2, myset3) difference2 = myset1 - myset2 - myset3 # порядок выполнения слева-направо print(union1 == union2) print(difference1 == difference2)
```

выводит:

```no
True True
```

**Примечание 3.** Оператор `^` симметрической разности позволяет использовать несколько множеств, а метод `symmetric_difference()` – нет.

Приведенный ниже код:

```python
myset1 = {1, 2, 3, 4, 5, 6} myset2 = {2, 3, 4, 7} myset3 = {6, 20, 30} symdifference = myset1 ^ myset2 ^ myset3 # порядок выполнения слева-направо print(symdifference)
```

выводит (порядок элементов может отличаться):

```no
{1, 5, 7, 20, 30}
```

 Приведенный ниже код:

```python
myset1 = {1, 2, 3, 4, 5, 6} myset2 = {2, 3, 4, 7} myset3 = {6, 20, 30} symdifference = myset1.symmetric_difference(myset2, myset3) print(symdifference)
```

приводит к ошибке:

```no
TypeError: symmetric_difference() takes exactly one argument (2 given)
```

**Примечание 4.** Таблица соответствия методов и операторов над множествами.

<table><tbody><tr><td><pre></pre></td><td>Возвращает множество, являющееся объединением множеств <code>A</code> и <code>B</code></td></tr><tr><td><pre></pre></td><td>Добавляет в множество&nbsp;<code>A</code>&nbsp;все элементы из множества&nbsp;<code>B</code></td></tr><tr><td><pre></pre></td><td>Возвращает множество, являющееся пересечением множеств&nbsp;<code>A</code>&nbsp;и&nbsp;<code>B</code></td></tr><tr><td><pre></pre></td><td>Оставляет в множестве&nbsp;<code>A</code>&nbsp;только те элементы, которые есть в множестве&nbsp;<code>B</code></td></tr><tr><td><pre></pre></td><td>Возвращает разность множеств&nbsp;<code>A</code>&nbsp;и&nbsp;<code>B</code></td></tr><tr><td><pre></pre></td><td>Удаляет из множества&nbsp;<code>A</code>&nbsp;все элементы, входящие в&nbsp;<code>B</code></td></tr><tr><td><pre></pre></td><td>Возвращает симметрическую разность множеств&nbsp;<code>A</code>&nbsp;и&nbsp;<code>B</code></td></tr><tr><td><pre></pre></td><td>Записывает в&nbsp;<code>A</code>&nbsp;симметрическую разность множеств&nbsp;<code>A</code>&nbsp;и&nbsp;<code>B</code></td></tr></tbody></table>

**Примечание 5.** Приоритет операторов в порядке убывания (верхние операторы имеют более высокий приоритет, чем нижние) имеет вид:

<table><tbody><tr><td><strong>Оператор</strong></td><td><strong>Описание</strong></td></tr><tr><td><code>-</code></td><td>разность</td></tr><tr><td><code>&amp;</code></td><td>пересечение</td></tr><tr><td><code>^</code></td><td>симметрическая разность</td></tr><tr><td><code>|</code></td><td>объединение</td></tr></tbody></table>

[Тут](https://docs.python.org/3/reference/expressions.html#operator-precedence) можно посмотреть про операторы и их приоритеты в Python.
