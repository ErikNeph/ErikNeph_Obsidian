---
title: Интернирование строк в Python
date of creation: 2025-02-04T01:57:00
tags:
  - Python
  - Python/Base
  - Python/Terminology
  - Terminology
  - IT
  - IT/Python
  - IT/Developing
  - Developing
  - Learning
read status: true
completion status: true
aliases:
  - Интернирование строк на языке Python
---
---
# Интернирование строк в Python

```powershell
>>> spam = 'cat'
>>> eggs = 'cat'
>>> spam is eggs 
True
>>> id(spam), id(eggs)
(1285806577904, 1285806577904)
```

Python замечает, что строковый литерал **`'cat'`**, присвоенный **`eggs`**, совпадает со строковым литералом **`'cat'`**, присвоенным **`spam`**; таким образом, вместо второго, избыточного объекта string переменной **`eggs`** просто присваивается ссылка на тот же объект строки, который используется **`spam`**. Этим объясняется совпадение идентичностей строк.

Такая оптимизация называется *интернированием* (string interning) строк. Как и предварительное определение целых чисел, это всего лишь подробность реализации CPython. Никогда не пишите код, который зависит от нее. Кроме того, эта оптимизация не обнаруживает все возможные идентичные строки. Попытки идентифицировать все экземпляры, к которым можно применить оптимизацию, часто занимают больше времени, чем сэкономит оптимизация. Например, попробуйте создать строку **`'cat'`** из **`'c'`** и **`'at'`** в интерактивной оболочке; вы заметите, что CPython создает итоговую строку **`'cat'`** как новый объект строки, вместо того чтобы повторно использовать объект строки, созданный для **`spam`**:

```powershell
>>> bacon = 'c'
>>> bacon += 'at'
>>> spam is bacon
False
>>> id(spam), id(bacon)
(1285806577904, 1285808207384)
```

**Интернирование строк** — метод оптимизации, применяемый интерпретаторами и компиляторами для многих языков программирования. За дополнительной информацией обращайтесь на https://en.wikipedia.org/wiki/String_interning.
