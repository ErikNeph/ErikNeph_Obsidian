---
title: Полезные стандартные модули на Python
date of creation: 2025-01-14T10:53:00
tags:
  - Python
  - IT/Python
  - Developing
  - Useful
  - IT/Useful
  - Programming
  - Programming/Python
  - Theory
  - IT/Theory
read status: true
completion status: false
aliases:
  - Полезные модули стандартной библиотеки на Python
---
---
# Полезные стандартные модули на Python

Здесь собраны полезные на Python. :LiStars: - Звезды показывает что данный модуль востребован.

## Модуль asyncio :LiStars:
---

Модуль **asyncio** предоставляет альтернативу потокам реализации параллелизма. Во внутреннем устройстве она основана на цикле событий, использующем опрос каналов ввода/вывода. Но высокоуровневая модель программирования очень похожа на многопоточное решение благодаря использованию специальных асинхронных функций.

```python
import asyncio

async def reader1(sock):
    loop = asyncio.get_event_loop() 
    while (data := await loop.sock_recv(sock, 8192)):
        print('reader1 got:', data)


async def reader2(sock):
    loop = asyncio.get_event_loop()
    while (data := await loop.sock_recv(sock, 8192)):
        print('reader2 got:', data)


async def main(sock1, sock2):
    loop = asyncio.get_event_loop()
    t1 = loop.create_task(reader1(sock1))
    t2 =loop.create_task(reader2(sock2))


# Ожидание завершения задач
await t1
await t2

...
# Запуск
asyncio.run(main(sock1, sock2))
```

Модуль **asyncio** поддерживает параллельные операции ввода/вывода с применением опроса каналов ввода/вывода и цикла событий. Он предназначен для использования в коде, работающем с сетями и распределенными системами.

Большинство приложений, использующих **asyncio**, будут работать не на уровне сокетов, а на более высоком. Но в таких приложениях вы все равно будете использовать специальные асинхронные функции и как-то взаимодействовать с циклом событий.

## Модуль binascii
---

**binascii** содержит функции для преобразования двоичных данных в текстовые представления — в частности, в шестнадцатеричную запись и base64:

```powershell
>>> binascii.b2a_hex(b'hello')
b'68656c6c6f'
>>> binascii.a2b_hex(_)
b'hello'
>>> binascii.b2a_base64(b'hello')
b'aGVsbG8=\n'
>>> binascii.a2b_base64(_)
b'hello'
>>>
```

Сходная функциональность предоставляется модулем **base64** и методами **`hex()`** и **`fromhex()`** типа **`bytes`**.


## Модуль cgi (Удален начиная с версии Python 3.13)
---

Допустим, вы хотите разместить на своем сайте простую форму, например для подписки на ежедневный бюллетень «Коты и их виды». Конечно, можно установить новейший веб-фреймворк и потратить неделю-другую на его освоение. А можно написать простой сценарий CGI — решение в духе «старой школы». Модуль **cgi** предназначен именно для этого.


## Модуль configparser
---

Формат файлов INI часто используется для кодирования конфигурационных данных в удобной для человека форме:

```
# config.ini
; Комментарий
[section1]
name1 = value1
name2 = value2
[section2]
; Альтернативный синтаксис 
name1: value1
name2: value2
```

**configparser** используется для чтения файлов .ini и извлечения данных
из них:

```python
import configparser

# Создание парсера и чтение файла
cfg = configparser.ConfigParser()
cfg.read('config.ini')

# Извлечение значений
a = cfg.get('section1', 'name1')
b = cfg.get('section2', 'name2')
...
```

Доступна и более расширенная функциональность, включающая интерполяцию строк, возможность слияния нескольких файлов .ini, определения значений по умолчанию и т. д. За примерами обращайтесь к дополнительным источникам.


## Модуль csv :LiStars:
---

**csv** предназначен для чтения/записи CSV-файлов (значений, разделенных запятыми). Формат CSV генерируется такими программами, как Microsoft Excel, или экспортируется из баз данных. Для использования этого модуля откройте файл и наложите на него дополнительный уровень кодирования/ декодирования CSV.

**csv** не делает с данными CSV почти ничего, кроме их чтения или записи. Главное преимущество этого модуля в том, что он умеет правильно кодировать/ декодировать данные и обрабатывает многие граничные случаи, включая данные в кавычках, специальные символы и другие подробности.


## Модуль errno
---

При каждой ошибке системного уровня Python сообщает о ней исключением-субклассом **`OSError`**. Некоторые распространенные виды системных ошибок представляются отдельными субклассами **`OSError`**: **`PermissionError`** или **`FileNotFoundError`**.

На практике могут встречаться сотни других ошибок. Для них любое исключение **`OSError`** содержит числовой атрибут **errno**, который может проверяться программой. Модуль **errno** дает символические константы, соответствующие этим кодам ошибок. Они часто используются при написании специализированных обработчиков исключений.


## Модуль fcntl
---

**fcntl** применяется для выполнения низкоуровневых управляющих операций ввода/вывода в UNIX с использованием системных функций **`fcntl()`** и **`ioctl()`**. Также он полезен при блокировке файлов — эта задача иногда возникает в контексте параллелизма и распределенных систем.


## Модуль hashlib
---

hashlib предоставляет функции для вычисления криптографических хешкодов —MD5 и SHA-1.


## Пакет http
---

В **http** содержится большой объем кода, относящегося к низкоуровневой реализации интернет-протокола HTTP. Он может использоваться для реализации как серверов, так и клиентов. Но большая часть пакета считается устаревшей и слишком низкоуровневой для повседневной работы. Серьезный программист, работающий с HTTP, скорее воспользуется такими сторонними библиотеками, как requests, httpx, Django, flask и т. д.

Одна из полезных скрытых возможностей пакета **http** — запуск автономного веб-сервера. Введите в каталоге с набором файлов следующую команду:

```bash
python -m http.server
Serving HTTP on 0.0.0.0 port 8000 (http://0.0.0.0:8000/) ...
```

Теперь Python будет предоставлять файлы вашему браузеру, если тот подключится к правильному порту. Для управления веб-сайтом эта возможность не подойдет, но она пригодится для тестирования и отладки программ, использующих веб-технологии. Например, автор использовал ее для локального тестирования программ, содержащих комбинацию HTML, JavaScript и WebAssembly.


## Модуль io
---

**io** в основном содержит определения классов для реализации объектов файлов, возвращаемых функцией **`open()`**. Прямые обращения к таким классам встречаются редко. Но модуль содержит и пару классов, которые могут пригодиться для «имитации» файла в форме строк и байтов.

Это может быть удобно для тестирования и других применений, где нужно предоставить файл, но данные на самом деле были получены иначе.

**`StringIO()`** дает интерфейс «в стиле файла» для строк. Класс **`BytesIO()`** служит похожей цели, но используется для эмуляции двоичного ввода/вывода с байтами.


## Модуль json :LiStars:
---

**json** может использоваться для кодирования и декодирования данных в формат JSON, обычно используемый в API микросервисов и веб-приложений. Для преобразования данных определены две основные функции: **`dumps()`** и **`loads()`**. **`dumps()`** получает словарь Python и кодирует его в JSON-строку в «Юникоде». **`loads()`** работает наоборот

**`dumps()`** и **`loads()`** поддерживают многочисленные параметры для управления разными аспектами преобразования и взаимодействия с экземплярами классов Python. Эта тема выходит за рамки раздела, но подробную информацию о ней можно найти на официальном сайте.


## Модуль logging :LiStars:
---

**logging** считается стандартом для вывода диагностики программы и отладочных данных в стиле **`print`**. Он может использоваться для перенаправления вывода в файл журнала и дает множество параметров конфигурации.

Поддерживаются пять уровней журнального вывода, упорядоченных по критичности. При настройке журнальной системы вы задаете уровень, который действует как фильтр: выводятся только сообщения этого и большего уровня критичности. Модуль **logging** дает множество параметров конфигурации, в основном связанных с внутренней обработкой журнальных сообщений.

Обычно вам не нужно ничего знать об этом при написании кода приложения — вы просто используете **`debug()`**, **`info()`**, **`warning()`** и другие методы для заданного экземпляра **`Logger`**. Любая специальная настройка конфигурации выполняется при запуске программы в определенном месте (например, в функции **`main()`** или основном блоке кода).


## Модуль os :LiStars:
---

**os** предоставляет переносимый интерфейс для общих функций операционной системы, связанных со средой процесса, файлами, каталогами, разрешениями и т. д. Программный интерфейс придерживается традиций программирования C и таких стандартов, как POSIX.

С практической точки зрения большая часть этого модуля относится к слишком низкому уровню для прямого использования в типичном приложении. Но если вы когда-нибудь столкнетесь с проблемой при выполнении необычных низкоуровневых системных операций (например, при открытии TTY), вероятно, вы найдете здесь нужный функционал.


## Модуль pathlib :LiStars:
---

**pathlib** — современный инструмент для портируемых и высокоуровневых операций с путями. Он объединяет множество функций, ориентированных на работу с файлами, в одном месте и использует объектно-ориентированный интерфейс. Основной объект — это класс **`Path`**

Экземпляр **`filename`** класса **`Path`** может использоваться для выполнения разных операций с файлом.

## Модуль re :LiStars:
---

**re** используется для поиска и замены текста по шаблону с использованием регулярных выражений.


## Модуль shutil
---

**shutil** используется для выполнения стандартных операций, которые обычно выполняются в командной оболочке. Это операции копирования и удаления файлов, работы с архивами и т. д.

Модуль **shutil** часто используется как более безопасная и портируемая альтернатива для прямого выполнения команд оболочки функцией **`os.system()`**.


## Модуль select
---

**`select()`** — низкоуровневая системная функция. Обычно она используется для отслеживания системных событий и реализации асинхронных фреймворков ввода/вывода (например, встроенного асинхронного модуля **asyncio**).

**select** используется для простого опроса нескольких потоков ввода/вывода. Он позволяет отслеживать набор дескрипторов файлов для обнаружения входящих или получения исходящих данных.

В дополнение к **`select()`** модуль **select** предоставляет функции **`poll()`**, **`epoll()`**, **`kqueue()`** и аналогичные варианты функций, обеспечивающие схожую функциональность. Их доступность зависит от операционной системы.


## Модуль smtplib
---

**smtplib** реализует клиентскую сторону [[SMTP]], которая обычно используется для отправки сообщений электронной почты. Есть дополнительный функционал для работы с паролями, аутентификацией и другими аспектами.


## Модуль socket
---

**socket** дает низкоуровневый доступ к функциям сетевого программирования. Интерфейс построен по образцу стандартного интерфейса сокетов BSD, который обычно ассоциируется с системным программированием на языке C.


## Модуль struct
---

**struct** используется для преобразования данных между Python и двоичными структурами данных в виде байтовых строк в нем. Такие структуры данных часто используются при взаимодействии с функциями, написанными на C, двоичными форматами файлов, сетевыми протоколами или при передаче двоичных данных через последовательные порты.


## Модуль subprocess
---

**subprocess** используется для выполнения отдельной программы как подпроцесса, но с контролем за средой выполнения, включая обработку ввода/ вывода, завершение и т. д. У модуля есть два распространенных применения.

Чтобы запустить отдельную программу и получить сразу весь ее вывод, используйте **`check_output()`**.

Можно настроить канал и взаимодействовать с подпроцессом более детально. Для этого используйте класс **`Popen`**.


## Модуль tempfile
---

**tempfile** поддерживает создание временных файлов и каталогов.

По умолчанию временные файлы открываются в двоичном режиме и поддерживают и чтение, и запись. Команда **`with`** часто используется и для определения области видимости, где будет использоваться файл. В конце блока **`with`** файл будет удален.

>[!danger]
>Как и в случае с файлами, каталог со всем его содержимым будет удален в конце блока **`with`**.


## Модуль textwrap
---

**textwrap** может использоваться для форматирования текста под конкретную ширину терминала. Это довольно специализированный модуль, но он часто может использоваться для очистки выводимого текста при построении отчетов. Интерес для нас представляют две функции.

**`wrap()`** получает текст и переносит его по заданной ширине столбца. Функция возвращает список строк.

**`indent()`** может использоваться для расстановки отступов в блоке текста.


## Модуль threading
---

**threading** используется для одновременного выполнения кода. Эта задача часто встречается при обработке ввода/вывода в сетевых программах. ==Многопоточное программирование — обширная тема.==


## Модуль time :LiStars:
---

**time** используется для обращения к системным функциям, относящимся ко времени.

Модуль **[[#Модуль datetime LiStars|datetime]]** обычно используется с целью представления даты и времени для выполнения вычислений, связанных с датой/временем, и работы с часовыми поясами.


## Пакет urllib :LiStars:
---

**urllib** используется для выдачи запросов HTTP на стороне клиента. Самая полезная функция — **`urllib.request.urlopen()`**. Она может использоваться для получения простых веб-страниц.

Для кодировки параметров формы используйте функцию **`urllib.parse.urlencode()`**.

**`urlopen()`** хорошо подходит для простых веб-страниц и API, где задействован протокол HTTP или HTTPS. Но эта функция становится менее удобной, если в обращениях к странице задействованы [[cookie]], расширенные схемы аутентификации и другие уровни. Большинство программистов Python в таких ситуациях воспользуются сторонней библиотекой (**requests** или **httpx**). Вам стоит сделать то же самое.


## Модуль unicodedata
---

**unicodedata** используется для более сложных операций, где участвуют строки текста в «Юникоде». Часто один текст в «Юникоде» может иметь несколько представлений.

Например, символ U+00F1 (ñ) может быть полностью сформирован как одиночный символ U+00F1 или же разложен в много символьную последовательность U+006e U+0303 (n, ~). Это может создать проблемы в программах, предполагающих, что текстовые строки, визуально отображающие одно и то же, на самом деле будут такими же в представлении.


## Пакет xml :LiStars:
---

Пакет **xml** содержит большую подборку модулей для обработки данных **XML**. Но прочитать документ **XML** и извлечь информацию из него проще всего с помощью подпакета **`xml.etree`**.


## Модуль unittest :LiStars:
---

**unittest** предоставляет встроенную поддержку для написания модульных тестов. Сам Python тестируется с помощью **unittest**. Но многие программисты предпочитают использовать для тестирования сторонние библиотеки, например **pytest**. И я с ними согласен.


## Модуль sys :LiStars:
---

**sys** содержит разнообразные атрибуты и методы, относящиеся к исполнительной среде самого Python. Это параметры командной строки, стандартные потоки ввода/вывода, путь импортирования и т. д.


## Модуль random :LiStars:
---

**random** предоставляет разные функции, связанные с генерацией случайных чисел.


## Модуль math :LiStars:
---

**math** предоставляет распространенные математические функции: **`sqrt()`**, **`cos()`**, **`sin()`** и т. д.


## Модуль collections :LiStars:
---

**collections** дополняет Python разными объектами-контейнерами, которые могут пригодиться при работе с данными, например двусторонней очередью (deque), словарями, автоматически инициализирующими отсутствующие элементы (defaultdict), и счетчиками для табличного представления данных (Counter).


## Модуль datetime :LiStars:
---

В модуле **datetime** собраны функции, относящиеся к работе с датой, временем и вычислениям с этими данными.


## Модуль itertools
---

**itertools** дает много полезных паттернов перебора: сцепление итерируемых объектов, перебор по произведениям множеств, перестановки, группировку и т. д.


## Модуль inspect
---

**inspect** предоставляет функции для анализа внутреннего строения элементов, связанных с кодом. Он обычно используется в метапрограммировании функциями, определяющими декораторы и подобные функции.


## Модуль statistics
---

**statistics** предоставляет функции для вычисления стандартных статистических характеристик: среднего, медианы, стандартного отклонения и т. д.
