---
date of creation: 2024-07-13T02:38:00
tags:
  - JavaScript
  - IT/JavaScript
  - JQuery
  - JS/JQuery
  - Developing/JS
  - jQueryMobile
  - Framework/JS
  - Framework
read status: false
aliases:
  - Краткое знакомство с jQuery Mobile
---
---
# Введение в jQuery Mobile



После изучения [[Введение в JQuery]] и осознания того, что использование jQuery существенно экономит время и повышает эффективность разработки программ, вам, видимо, будет приятно узнать о дальнейшем расширении возможностей за счет применения библиотеки jQuery Mobile.

Созданная в качестве дополнения к jQuery, библиотека jQuery Mobile требует включения в веб-страницу обеих этих библиотек (а также использования файла CSS и дополнительных изображений). Это позволяет при просмотре страницы на смартфонах и других мобильных устройствах воспользоваться полностью интерактивным интерфейсом.

Библиотека jQuery Mobile позволяет переделывать обычные веб-страницы, превращая их в страницы для мобильных устройств с помощью технологии под названием *[[Постепенное улучшение|постепенное улучшение]]* (при использовании которой сначала для получения наилучшего отображения применяются основные функции браузера, а затем происходит добавление функциональной насыщенности по мере раскрытия возможностей имеющегося на устройстве браузера). В библиотеке применяются также функции так называемого *[[Адаптивный веб-дизайн|адаптивного веб-дизайна]]* (благодаря чему достигается весьма качественное отображение веб-страниц на широком диапазоне устройств при различных размерах окон и экранов).

Основная цель данной главы не заключается в том, чтобы научить вас абсолютно всему, что нужно знать о jQuery Mobile, для чего может понадобиться целая книга! Мне хочется снабдить вас информацией, достаточной для преобразования любого не слишком большого объема веб-страниц в выстраиваемое в логическую последовательность быстрое и красивое веб-приложение со всеми слайд-показами страниц и другими переходами, ожидаемыми от современного сенсорного устройства, а также с более крупными и удобными в использовании значками, полями ввода и другими усовершенствованиями ввода и навигации.

С этой целью будет рассмотрен лишь небольшой объем основных функций jQuery Mobile, позволяющий приступить к разработке вполне понятных и работающих решений, способных запускаться как на настольных компьютерах, так и на мобильных платформах. Наряду с этим будут рассмотрены сложности, с которыми можно столкнуться на пути предлагаемой адаптации веб-страниц под мобильные устройства, и способы их преодоления. После освоения работы с библиотекой jQuery Mobile станет проще ориентироваться в онлайн-документации при поиске функциональных свойств, необходимых при разработке ваших собственных проектов.

>[!info]
>Кроме постепенного улучшения способа отображения вашего кода HTML в зависимости от возможностей браузера, на котором он обнаружит себя запущенным, библиотека jQuery Mobile также постепенно улучшает обычную HTML-разметку на основе используемых тегов и набора пользовательских атрибутов данных. Некоторые элементы подвергаются автоматическому улучшению, не нуждаясь при этом в каких-либо атрибутах данных (например, элементы выбора проходят автоматическое преобразование в меню), а некоторые требуют для усовершенствования наличия атрибутов данных. Полный перечень подмдерживаеых атрибутов данных можно найти в документации по API: http://api.jquerymobile.com/data-attribute.


## Включение jQuery Mobile
---

Включить jQuery Mobile в ваши веб-страницы можно двумя способами. Можно перейти на страницу загрузки http://jquerymobile.com/download/, выбрать нужную версию, загрузить файлы на ваш веб-сервер (включая таблицы стилей и сопутствующие изображения, поставляемые вместе с библиотекой) и пользоваться всем этим отсюда.

Например, если в корневой каталог документов вашего сервера загружена библиотека jQuery Mobile 1.4.5 (это последняя версия на момент написания книги) и ее CSS-файл, можно включать в веб-страницу их и сопутствующую им JavaScript-библиотеку jQuery, у которой, применительно ко времени написания книги, должна быть версия 2.2.4. Следует отметить, что прошло немало времени с момента обновления jQuery Mobile, и мне интересно, могут ли из-за этого другие технологии в ближайшем будущем превзойти эту библиотеку:

```html
<link href="http://myserver.com/jquery.mobile-1.4.5.min.css" rel="stylesheet">

<script src='http://myserver.com/jquery-2.2.4.min.js'></script>
<script src='http://myserver.com/jquery.mobile-1.4.5.min.js'></script>
```

Или же, как и в случае применения jQuery, можно воспользоваться предлагаемой в свободном доступе сетью доставки контента — content delivery network (CDN) и просто сослаться на требуемую вам версию (или версии). Свой выбор можно остановить на одной из трех основных CDN-сетей (Max CDN, Google CDN и Microsoft CDN), нужные файлы из которых извлекаются следующими способами:

```html
<!-- Retrieving jQuery & Mobile via Max CDN -->
<link rel="stylesheet"
href="http://code.jquery.com/mobile/1.4.5/jquery.mobile 1.4.5.min.css">
<script src="http://code.jquery.com/jquery-2.2.4.min.js"></script>
<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"> </script>

<!-- Retrieving jQuery & Mobile via Google CDN -->
<link rel="stylesheet" href=
"http://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.css">
<script src=
"http://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src=
"http://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.js">
</script>

<!-- Retrieving jQuery & Mobile via Microsoft CDN -->
<link rel="stylesheet" href=
"http://ajax.aspnetcdn.com/ajax/jquery.mobile/1.4.5/jquery.mobile-1.4.5.min.css">
<script src=
"http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.4.min.js">
</script>
<script src=
"http://ajax.aspnetcdn.com/ajax/jquery.mobile/1.4.5/jquery.mobile-1.4.5.min.js">
</script>
```

Вероятно, один из наборов этих инструкций вам захочется разместить в **`<head>`** разделе страницы.


## Начало работы
---

Давайте сразу углубимся в тему, наблюдая за общим внешним видом веб-страницы jQuery Mobile, воспользовавшись кодом, показанным в **примере 23.1**. По сути, ничего сложно в этом не будет, и данное беглое ознакомление поможет быстро разложить по своим местам весь остальной материал данной главы.

>**Пример 23.1.** Одностраничный шаблон jQuery Mobile
```html
<!DOCTYPE html>
<html lang="ru"> 

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Single page template</title>
  <link rel="stylesheet" href="jquery.mobile-1.4.5.min.css">
  <script src="jquery-2.2.4.min.js"></script>
  <script src="jquery.mobile-1.4.5.min.js"></script>
</head>

<body>
  <div data-role="page">
    <div data-role="header">
      <h1>Single page</h1>
    </div>
    <div data-role="content">
      <p>Это однострочный шаблон страницы</p>
    </div>
    <div data-role="footer">
      <h4>Footer content</h4>
    </div>
  </div>
</body>  

</html>
```

При изучении предыдущего примера видно, что он начинается со стандартных и вполне ожидаемых элементов HTML5. Первым необычным элементом, который может броситься в глаза в разделе **`<head>`**, станет настройка окна просмотра **`viewport`**, осуществляемая внутри тега **`<meta>`**. Этот тег должен присутствовать на всех ваших веб-страницах, поскольку большинство пользователей в настоящее время просматривают веб-страницы с мобильных устройств.

Эта строка кода указывает мобильным браузерам на необходимость установки ширины показываемого документа на ширину окна браузера и на начало работы с документом без увеличения или уменьшения его изображения.

При отображении в браузере, где высота больше ширины, страница выглядит как на **рис. 23.1.**

>![[Рис. 23.1. Отображение одностраничного шаблона jQuery Mobile в окне браузера.jpg]]
>**Рис. 23.1.** Отображение одностраничного шаблона jQuery Mobile в окне браузера

После обозначения заголовка страницы загружается CSS для jQuery Mobile, затем загружается библиотека jQuery 2.2.4 и библиотека jQuery Mobile 1.4.5. Если хотите, можете загрузить их из сети CDN, о чем уже говорилось в разделе «Включение jQuery Mobile» ранее в этой главе.

>[!info]
>В примерах, сопровождающих эту главу, есть папка с именем images, содержащая значки и другие изображения, востребованные таблицами CSS. Если для загрузки CSS и файлов библиотек JavaScript используется сеть CDN, необходимость включения этой папки в ваш собственный проект может отпасть, поскольку вместо нее нужно будет воспользоваться папкой изображений, принадлежащей сети CDN.

Переместившись к разделу **`<body>`**, следует заметить, что главная веб-страница помещена в **`<div>`**-элемент, содержащий еще три **`<div>`**-элемента для заголовка, контента и нижнего колонтитула страницы, у каждого из которых имеется соответствующее свойство **`data-role`**.

Из этого складывается основная структура веб-страницы jQuery Mobile. Связывание страниц предполагает загрузку новых страниц и добавление их в DOM-модель с использованием асинхронного режима обмена данными. После загрузки страница может выводиться на экран множеством способов, включая мгновенную замену прежней страницы, плавное выведение новой страницы, постепенное превращение старой страницы в новую, наплыв новой страницы на старую и т. д.

>[!info]
>Из-за асинхронной загрузки веб-страниц тестирование вашего кода jQuery Mobile всегда нужно проводить на веб-сервере, а не в локальной файловой системе. Это связано с тем, что именно веб-сервер обеспечивает асинхронную загрузку веб-страниц, необходимую для правильного обмена данными. Для этого достаточно системы AMPPS, при условии, что вы получаете доступ к файлам, используя localhost:// или http://127.0.0.1/.


## Связывание страниц
---

Библиотека jQuery Mobile позволяет связывать страницы обычным способом и выполнять (по возможности) асинхронною обработку страничных запросов, чтобы обеспечить применение любых выбранных вами переходов.

Это позволяет сосредоточиться просто на создании веб-страниц, возложив на средства библиотеки jQuery Mobile обязанности по формированию их удобного внешнего вида и быстрому их выводу на экран в профессиональном качестве.

Чтобы включить анимированные переходы от страницы к странице, все ссылки, указывающие на внешние страницы, приведут к загрузке страниц в асинхронном режиме. В jQuery Mobile это достигается за счет превращения всех ссылок вида **`<a href...>`** в асинхронные запросы на обмен данными (также известные как Ajax), с последующим выводом на экран кругового индикатора загрузки на время выполнения запроса. Очевидно, что это относится только к ссылкам на внутренние страницы.

>[!info]
>Смена страниц после щелчка на ссылке выполняется в библиотеке jQuery Mobile за счет «перехвата» щелчков при доступе к событию event. preventDefault и последующего предоставления собственного особого кода jQuery Mobile.

Если запрос завершен успешно, к DOM-модели добавляется содержимое новой страницы, а затем происходит визуализация выбранной новой страницы с использованием перехода либо по умолчанию, либо по вашему выбору.

При неудачном завершении запроса ненадолго будет выведено небольшое и ненавязчивое уведомительное сообщение об ошибке, которое не помешает навигации по страницам.


### Синхронная связанность
---

Данные по ссылкам, указывающим на другие домены или имеющим атрибуты **`rel="external", data-ajax="false"`** или **`target`**, будут загружаться в синхронном режиме, что приведет к полному обновлению страницы без анимированных переходов.

Атрибуты **`rel="external"`** и **`data-ajax="false"`** приводят к одинаковому эффекту, но первый из них предназначен для ссылок на другой сайт или домен, а второй пригодится для предотвращений асинхронного режима загрузки любой страницы.

Из-за ограничений, накладываемых мерами безопасности, jQuery Mobile загружает страницы со всех внешних доменов в синхронном режиме.

>[!tip]
>При использовании выгрузки HTML-файла асинхронную загрузку страниц придется отключить, поскольку этот способ извлечения веб-страницы конфликтует с заложенной в jQuery Mobile возможностью получения выгружаемого файла. Для данного конкретного случая наилучшим вариантом, наверное, станет помещение атрибута **`data-ajax="false"`** в элемент **`<form>`**:
```html
<form data-ajax='false' method='post'
  action='dest_file' enctype='multipart/form-data'>
```


### Связанность внутри многостраничного документа
---

В одном HTML-документе может содержаться одна или несколько страниц. Последний вариант предполагает формирование структуры из **`<div>`**-элементов с указанием характера имеющихся на странице данных — **`data-role`**. Это позволяет создать в рамках *одного* HTML-документа небольшой сайт или приложение; библиотека jQuery Mobile просто отобразит на экране первую страницу, которая будет найдена в исходном порядке загрузки страниц.

Если ссылка в многостраничном документе указывает на гипертекстовый элемент (например, **`#page2`**), среда станет искать охватывающий страницу **`<div>`**-элемент с атрибутом **`data-role`**, имеющим значение **`page`** и с заданными идентификатором ID (**`id="page2"`**). Если такая страница будет найдена, произойдет ее вывод на экран.

Библиотека jQuery Mobile позволяет пользователям беспрепятственно перемещаться между всеми типами веб-страниц (внутренними, локальными или внешними). Для конечного пользователя все страницы будут выглядеть одинаково, за исключением внешних страниц, при вызове которых будет выводиться круговой индикатор загрузки Ajax, но внешние загруженные страницы будут заменять текущую страницу, в отличие от внутренних, которые вставляются в DOM, чтобы сохранить весь функционал jQuery Mobile. Во всех ситуациях jQuery Mobile обновляет страничный URL-хеш с целью поддержки функционирования кнопки возврата на предыдущую страницу. Этот также означает, что страницы jQuery Mobile могут индексироваться поисковыми механизмами и не имеют никаких барьеров где-нибудь в своем родном приложении.

>[!danger]
>При связывании из страницы, отображенной в формате для мобильных устройств и загруженной в асинхронном режиме в документ, в котором содержатся несколько внутренних страниц, к ссылке нужно добавить либо `rel="external"`, либо `data-ajax="false"`, чтобы принудительно вызвать полную перезагрузку страницы, вычищая асинхронный хеш из URL. В страницах, загруженных в асинхронном режиме, знак решетки (`#`) используется для отслеживания их истории, в то время как во множестве внутренних страниц этот знак используется в качестве признака внутренних страниц.


### Смена страниц
---

Путем использования CSS-переходов jQuery Mobile может, при условии использования асинхронной навигации (включаемой по умолчанию), применять эффекты к любой ссылке на страницу или к отправке формы.

Чтобы воспользоваться переходом, внутри тега **`<a>`** или **`<form>`** применяется атрибут **`data-transition`**:

```html
<a data-transition="slide" href="destination.html">Click me</a>
```

Этот атрибут поддерживает значения **`fade`** (начиная с версии 1.1 используется по умолчанию), **`pop`**, **`flip`**, **`turn`**, **`flow`**, **`slidefade`**, **`slide`** (использовалось по умолчанию до версии 1.1), **`slideup`**, **`slidedown`** и **`none`**.

Например, значение **`slide`** вызывает наплыв новой страницы справа, при одновременном сдвиге текущей страницы влево. Эффект, вызываемый другими значениями, обусловливается их названиями.


### Загрузка страницы, используемой в качестве диалогового окна
---

Новую страницу можно отобразить на экране в качестве диалогового окна, воспользовавшись атрибутом **`data-rel`** со значением **`dialog`**:

```html
<a data-rel="dialog" href="dialog.html">Open dialog</a>
```

Применение различных страничных переходов как к загрузке страниц, так и к диалогам при локальной (не по сети CDN) загрузке библиотек jQuery показано в **примере 23.2**. Он состоит из простой таблицы в два столбца, первый из которых предназначен для загрузки диалога, а второй — для загрузки новой страницы. Перечислен каждый из доступных типов переходов. Чтобы ссылки выглядели как кнопки, каждая из них снабжена атрибутом **`data-role`** со значением **`button`** (кнопки рассматриваются в разделе «Стильные кнопки» далее в этой главе).

>**Пример 23.2.** Страничные переходы в jQuery Mobile
```html
<!DOCTYPE html> 
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"> 
    <title>Page Transitions</title> 
    <link rel="stylesheet" href="jquery.mobile-1.4.5.min.css">
    <script src="jquery-2.2.4.min.js"></script>
    <script src="jquery.mobile-1.4.5.min.js"></script>
  </head> 
  <body> 
    <div data-role="page">
      <div data-role="header">
        <h1>jQuery Mobile Page Transitions</h1>
      </div>
      <div data-role="content"><table>
        <tr><th><h3>fade</h3></th>
          <td><a href="page-template.html" data-rel="dialog"
           data-transition="fade" data-role='button'>dialog</a>              </td>
          <td><a href="page-template.html" data-transition="fade"
           data-role='button'>page</a></td>
        </tr><tr><th><h3>pop</h3></th>
          <td><a href="page-template.html" data-rel="dialog"
           data-transition="pop" data-role='button'>dialog</a></td>
          <td><a href="page-template.html" data-transition="pop"
           data-role='button'>page</a></td>
        </tr><tr><th><h3>flip</h3></th>
          <td><a href="page-template.html" data-rel="dialog"
           data-transition="flip" data-role='button'>dialog</a>              </td>
          <td><a href="page-template.html" data-transition="flip"
           data-role='button'>page</a></td>
        </tr><tr><th><h3>turn</h3></th>
          <td><a href="page-template.html" data-rel="dialog"
           data-transition="turn" data-role='button'>dialog</a>              </td>
          <td><a href="page-template.html" data-transition="turn"
           data-role='button'>page</a></td>
        </tr><tr><th><h3>flow</h3></th>
          <td><a href="page-template.html" data-rel="dialog"
           data-transition="flow" data-role='button'>dialog</a>               </td>
          <td><a href="page-template.html" data-transition="flow"
           data-role='button'>page</a></td>
        </tr><tr><th><h3>slidefade</h3></th>
          <td><a href="page-template.html" data-rel="dialog"
           data-transition="slidefade" data-                                       role='button'>dialog</a></td>
          <td><a href="page-template.html" data-                                    transition="slidefade"
           data-role='button'>page</a></td>
        </tr><tr><th><h3>slide</h3></th>
          <td><a href="page-template.html" data-rel="dialog"
           data-transition="slide" data-role='button'>dialog</a>               </td>
          <td><a href="page-template.html" data-transition="slide"
           data-role='button'>page</a></td>
        </tr><tr><th><h3>slideup</h3></th>
          <td><a href="page-template.html" data-rel="dialog"
           data-transition="slideup" data-role='button'>dialog</a>          </td>
          <td><a href="page-template.html" data-                              transition="slideup"
           data-role='button'>page</a></td>
        </tr><tr><th><h3>slidedown</h3></th>
          <td><a href="page-template.html" data-rel="dialog"
           data-transition="slidedown" data-                                  role='button'>dialog</a></td>
          <td><a href="page-template.html" data-                              transition="slidedown"
           data-role='button'>page</a></td>
        </tr><tr><th><h3>none</h3></th>
          <td><a href="page-template.html" data-rel="dialog"
           data-transition="none" data-role='button'>dialog</a>             </td>
          <td><a href="page-template.html" data-transition="none"
           data-role='button'>page</a></td></tr></table>
      </div>
      <div data-role="footer">
        <h4><a href="http://tinyurl.com/jqm-trans">Official                    Demo</a></h4>
      </div>
    </div>
  </body>
</html>
```

Файл page-template.html:
```html
<!DOCTYPE html> 
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"> 
    <title>Single page template</title> 
    <link rel="stylesheet" href="jquery.mobile-1.4.5.min.css">
    <script src="jquery-2.2.4.min.js"></script>
    <script src="jquery.mobile-1.4.5.min.js"></script>
  </head> 
  <body> 
    <div data-role="page">
      <div data-role="header">
        <h1>Single page</h1>
      </div>
      <div data-role="content">	
        <p>This is a single page boilerplate template</p>
      </div>
      <div data-role="footer">
        <h4>Footer content</h4>
      </div>
    </div>
  </body>
</html>
```

На **рис. 23.2** показаны результаты загрузки этого примера (сохраненного в файле transitions.html) в браузер, на **рис. 23.3** показывается в действии переход в виде переворота (flip). Кстати, переход по ссылке http://demos.jquerymobile.com/1.4.4/transitions/, приведенной в самом конце примера, приведет к сайту официальной демонстрации, где можно будет ознакомиться с этими эффектами более подробно.

>![[Рис. 23.2. Применение переходов к страницам и диалогам.jpg]]
>**Рис. 23.2.** Применение переходов к страницам и диалогам
>![[Рис. 23.3. Flip-переход в действии.jpg]]
>**Рис. 23.3.** Flip-переход в действии


### Стильные кнопки
---

Простую ссылку совсем нетрудно показать в виде кнопки, не добавляя для этого свой собственный код CSS. Нужно лишь предоставить значение **`button`** используемому в элементе атрибуту **`data-role`**:

```html
<a data-role="button" href="news.html">Latest news</a>
```

Можно решать, будет ли эта кнопка шириной во все окно (по умолчанию), подобно **`<div>`**-элементу, или же показана как составляющая линейной структуры, подобно **`<span>`**-элементу. Для второго варианта атрибуту **`data-inline`** нужно присвоить значение **`true`**:

```html
<a data-role="button" data-inline="true" href="news.html">Latest      news</a>
```

Изменить способ отображения можно для любой кнопки, как созданной из ссылки, так и использованной из формы, для чего нужно сделать выбор между скругленными углами (по умолчанию) или прямыми углами и придать кнопке тень (по умолчанию) или показать ее без тени. Функции, используемые по умолчанию, можно выключить, присвоив соответствующим атрибутам **`datacorners`** и **`data-shadow`** значение **`false`**:

```html
<a data-role="button" data-inline="true" data-corners="false"
  data-shadow="false" href="news.html">Latest news</a>
```

Более того, воспользовавшись атрибутом **`data-icon`**, можно даже добавить к копкам значки:

```html
<a data-role="button" data-inline="true" data-icon="home"
  href="home.html">Home page</a>
```

Существует на выбор более 50 готовых к применению значков. Все они созданы с использованием довольно мощного графического языка под названием [[Scalable Vector Graphics (SVG)|Scalable Vector Graphics (SVG)]], то есть масштабируемая векторная графика, а для устройств, не поддерживающих SVG, используется формат PNG, придающий значкам особую привлекательность на дисплеях с технологией Retina. Доступные значки можно увидеть на демонстрационной странице по адресу http://tinyurl.com/jqmicons.

По умолчанию значки появляются слева от текста кнопки, но можно выбрать их размещение справа, выше либо ниже текста или же удалить любой текст, применив, соответственно, значения **`right`**, **`top`**, **`bottom`** или **`notext`** к атрибуту **`data-iconpos`**:

```html
<a data-role="button" data-inline="true" data-icon="home"
   data-iconpos="right" href="home.html">Home page</a>
```

Если вы решите не отображать текст кнопки, то она будет показана круглой по умолчанию.

И наконец, в завершение этого краткого обзора по стилизации кнопок рассмотрим вариант выбора уменьшенных кнопок (включая и их текст) путем присваивания атрибуту **`data-mini`** значения **`true`**:

```html
<a data-role="button" data-inline="true" data-icon="home"
  data-mini="true" href="home.html">Home page</a>
```

В **примере 23.3** показывается подборка кнопок, созданных с применением различных стилей (без указания для краткости атрибутов **`href`**). Результат выполнения кода примера показан на **рис. 23.4**.

>**Пример 23.3**. Разнообразные кнопочные элементы
```html
<!DOCTYPE html> 
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"> 
    <title>Buttons</title> 
    <link rel="stylesheet" href="jquery.mobile-1.4.5.min.css">
    <script src="jquery-2.2.4.min.js"></script>
    <script src="jquery.mobile-1.4.5.min.js"></script>
  </head> 
  <body> 
    <div data-role="page">
      <div data-role="header">
        <h1>jQuery Mobile Buttons</h1>
      </div>
      <div data-role="content" style='text-align:center'>
        <a data-role="button">Default</a>
        <a data-role="button" data-inline="true">In-line</a>
        <a data-role="button" data-inline="true"
                              data-corners="false">Squared                                       corners</a>
        <a data-role="button" data-inline="true"
                              data-shadow="false">Unshadowed</a>
        <a data-role="button" data-inline="true" data-                                         corners="false"
                              data-shadow="false">Both</a><br>
        <a data-role="button" data-inline="true"
                              data-icon="home">Left icon</a>
        <a data-role="button" data-inline="true" data-icon="home"
                              data-iconpos="right">Right icon</a>
        <a data-role="button" data-inline="true" data-icon="home"
                              data-iconpos="top">Top icon</a>
        <a data-role="button" data-inline="true" data-icon="home"
                              data-iconpos="bottom">Bottomicon</a>         <br>
        <a data-role="button" data-mini="true">Default Mini</a>
      </div>
      <div data-role="footer">
        <h4><a href="http://tinyurl.com/jqmbuttons">Official                 Demo</a></h4>
      </div>
    </div>
  </body>
</html>
```

>![[Рис. 23.4. Ассортимент кнопочных стилей.jpg]]
>**Рис. 23.4.** Ассортимент кнопочных стилей

На самом деле, выбор стилевого оформления кнопок намного шире, и все необходимые вам подробности можно получить на сайте демонстрации кнопок по адресу http://tinyurl.com/jqmbuttons. А пока вполне сгодится и эта вводная информация.


### Обработка списков
---

Что касается обработки списков, jQuery Mobile предоставляет широкий спектр простых в применении свойств, позволяющих существенно упростить работу. Все эти свойства доступны за счет присваивания значения **`listview`** атрибуту **`data-role`**, принадлежащему элементу **`<ul>`** или **`<ol>`**.

К примеру, для создания простого неупорядоченного списка можно воспользоваться следующим кодом:

```html
<ul data-role="listview">
  <li>Brocolli</li>
  <li>Carrots</li>
  <li>Lettuce</li>
</ul>
```

Для получения упорядоченного списка нужно просто заменить открывающие и закрывающие теги **`<ul>`** тегами **`<ol>`**, и список станет пронумерованным.

Любые ссылки внутри списка автоматически получат значок со стрелкой, встраиваемый и изображаемый в виде кнопки. ==Можно также вставить список, смешав его с другим содержимым страницы, для чего нужно присвоить атрибуту== **`data-inset`** значение **`true`**.

В **примере 23.4** показывается, как эти разнообразные свойства работают на практике. Результат выполнения кода показан на **рис. 23.5.**

>**Пример 23.4.** Подборка списков
```html
<!DOCTYPE html> 
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"> 
    <title>Lists</title> 
    <link rel="stylesheet" href="jquery.mobile-1.4.5.min.css">
    <script src="jquery-2.2.4.min.js"></script>
    <script src="jquery.mobile-1.4.5.min.js"></script>
  </head> 
  <body> 
    <div data-role="page">
      <div data-role="header">
        <h1>jQuery Lists</h1>
      </div>
      <div data-role="content" style='text-align:center'>
        <ul data-role="listview">
          <li>An</li>
          <li>Unordered</li>
          <li>List</li>
        </ul><br><br>
        <ol data-role="listview">
          <li>An</li>
          <li>Ordered</li>
          <li>List</li>
        </ol><br>
        <ul data-role="listview" data-inset="true">
          <li>An</li>
          <li>Inset Unordered</li>
          <li>List</li>
        </ul>
        <ul data-role="listview" data-inset="true">
          <li><a href='#'>An</a></li>
          <li><a href='#'>Inset Unordered</a></li>
          <li><a href='#'>Linked List</a></li>
        </ul>
      </div>
      <div data-role="footer">
        <h4><a href="http://tinyurl.com/jqmlists">Official                   Demo</a></h4>
      </div>
    </div>
  </body>
</html>
```

>![[Рис. 23.5. Упорядоченные и неупорядоченные, а также простые и вставленные списки.jpg]]
>**Рис. 23.5.** Упорядоченные и неупорядоченные, а также простые и вставленные списки


### Фильтруемые списки
---

Списки можно сделать фильтруемыми, присвоив атрибуту **`data-filter`** значение true, что приведет к появлению над списком поля поиска, по мере ввода в которое аргумента поиска из отображения списка будут автоматически удаляться не соответствующие этому аргументу элементы списка. Можно также присвоить значение **`true`** аргументу **`data-filter-reveal`**, в результате чего не будут показаны никакие элементы, пока пользователь не наберет в поле фильтра хотя бы одну букву, а затем будут отображаться только те элементы, которые соответствуют символам, набранным в поле фильтра.

В **примере 23.5** показывается использование этих двух типов фильтруемых списков, отличающихся только тем, что к последнему добавлен код **`data-filter-reveal="true"`**.

>**Пример 23.5.** Фильтруемый список и список с появлением элементов по мере ввода значения фильтра
```html
<!DOCTYPE html> 
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-          scale=1"> 
    <title>Lists</title> 
    <link rel="stylesheet" href="jquery.mobile-1.4.5.min.css">
    <script src="jquery-2.2.4.min.js"></script>
    <script src="jquery.mobile-1.4.5.min.js"></script>
  </head> 
  <body> 
    <div data-role="page">
      <div data-role="header">
        <h1>jQuery Lists</h1>
      </div>
      <div data-role="content" style='text-align:center'>
        <ul data-role="listview" data-filter="true"
            data-filter-placeholder="Search big cats..." data-                 inset="true">
          <li>Cheetah</li>
          <li>Cougar</li>
          <li>Jaguar</li>
          <li>Leopard</li>
          <li>Lion</li>
          <li>Snow Leopard</li>
          <li>Tiger</li>
        </ul>
        <ul data-role="listview" data-filter="true" data-filter-             reveal="true"
            data-filter-placeholder="Search big cats..." data-               inset="true">
          <li>Cheetah</li>
          <li>Cougar</li>
          <li>Jaguar</li>
          <li>Leopard</li>
          <li>Lion</li>
          <li>Snow Leopard</li>
          <li>Tiger</li>
        </ul>
      </div>
      <div data-role="footer">
        <h4><a href="http://tinyurl.com/jqmlists">Official                   Demo</a></h4>
      </div>
    </div>
  </body>
</html>
```

Обратите внимание на использование атрибута **`data-filter-placeholder`**, предлагающего приглашение пользователю в пустом поле ввода.

На **рис. 23.6** можно увидеть, как первый вариант списка реагирует на ввод буквы в поле поиска, оставляя на экране только те элементы списка, в которых имеется буква **«a»**, и как во втором варианте списка не показывается ни одного элемента, поскольку пока в поле фильтра не введено ни одной буквы.

>![[Рис. 23.6. Фильтруемый список и список с появлением элементов по мере ввода.jpg]]
>**Рис. 23.6.** Фильтруемый список и список с появлением элементов по мере ввода значения фильтра


### Разделители списков
---

Чтобы улучшить внешний вид, в списках можно применить разделители, вставляемые вручную или в автоматическом режиме. Вручную разделители списка создаются путем добавления к элементу списка атрибута **`data-role`** с присвоенным значением **`list-divider`**. Результат выполнения кода **примера 23.6**, где применен данный прием, показан на **рис. 23.7.**

>**Пример 23.6.** Расстановка разделителей списка вручную
```html
<!DOCTYPE html> 
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-          scale=1"> 
    <title>Lists</title> 
    <link rel="stylesheet" href="jquery.mobile-1.4.5.min.css">
    <script src="jquery-2.2.4.min.js"></script>
    <script src="jquery.mobile-1.4.5.min.js"></script>
  </head> 
  <body> 
    <div data-role="page">
      <div data-role="header">
        <h1>jQuery Lists</h1>
      </div>
      <div data-role="content" style='text-align:center'>
        <ul data-role="listview" data-inset="true">
          <li data-role="list-divider">Big Cats</li>
          <li>Cheetah</li>
          <li>Cougar</li>
          <li>Jaguar</li>
          <li>Lion</li>
          <li>Snow Leopard</li>
          <li data-role="list-divider">Big Dogs</li>
          <li>Bloodhound</li>
          <li>Doberman Pinscher</li>
          <li>Great Dane</li>
          <li>Mastiff</li>
          <li>Rottweiler</li>
        </ul>
      </div>
      <div data-role="footer">
        <h4><a href="http://tinyurl.com/jqmlists">Official                   Demo</a></h4>
      </div>
    </div>
  </body>
</html>
```

>![[Рис. 23.7. Список, разделенный на категории.jpg]]
>**Рис. 23.7.** Список, разделенный на категории

Чтобы позволить jQuery Mobile определить расстановку разделителей удобным для вас образом, можно присвоить значение **`true`** атрибуту **`data-autodividers`**, создав код, показанный в **примере 23.7,** выполнение которого приведет к разделению элементов по алфавиту (**рис. 23.8**).

>**Пример 23.7.** Использование авторазделителей
```html
<ul data-role='listview' data-inset='true' data-                     autodividers='true'>
  <li>Cheetah</li>
  <li>Lion</li>
  <li>Tiger</li>
  <li>Jaguar</li>
  <li>Leopard</li>
</ul>
```

>![[Рис. 23.8. Автоматическое разделение элементов списка по алфавиту.jpg]]
>**Рис. 23.8.** Автоматическое разделение элементов списка по алфавиту

Как и кнопки (см. раздел «Стильные кнопки»), значки можно добавлять к ссылочным элементам списка, используя для этого атрибут **`dataicon`** со значением, представляющим собой название показываемого значка:

```html
<li data-icon="gear"><a href="settings.html">Settings</a></li>
```

В этом примере используемая по умолчанию в ссылочном элементе списка правосторонняя угловая скобка будет заменена выбранным вами значком (в данном случае значком с изображением шестеренки).

Вдобавок ко всем этим полезным свойствам в элементы списка можно добавлять значки и пиктограммы, и их масштаб будет подбираться для достижения наилучшего внешнего вида. Подробности практических приемов, позволяющих это сделать, и многие другие особенности оформления списков можно найти в официальной документации: http://tinyurl.com/jqmlists.


## А что же дальше?
---

В начале главы уже говорилось, что ее назначение — позволить вам быстро освоиться с применением jQuery Mobile, чтобы можно было легко переделать сайты в веб-приложения, имеющие приглядный внешний вид на всех устройствах, будь то настольный компьютер или мобильное приспособление.

Именно поэтому были представлены только самые яркие и наиболее важные свойства jQuery Mobile и затронут только самый верхний слой всех возможностей, предоставляемых этой библиотекой. Например, существует огромное множество способов усовершенствования форм и улучшения условий работы с ними на мобильных устройствах. Можно создавать адаптивные таблицы, свертываемое содержимое, вызывать раскрывающиеся окна, проектировать свои собственные темы и делать многое другое.

>[!note]
>Вас может заинтересовать изучение возможностей использования jQuery Mobile в сочетании с продуктом фирмы Adobe под названием [[Apache Cordova|Cordova]] (https://cordova.apache.org/) с целью создания автономных приложений для Android и iOS. Там не все так просто, и рассмотрение этого вопроса выходит за рамки темы данной книги, но вся самая тяжелая работа уже была проделана за вас.

После того как вы освоите все, что изложено в данной главе, и у вас возникнет желание узнать о том, что еще можно сделать с jQuery Mobile, я рекомендую обратиться к официальным демонстрационным страницам и документации, имеющейся на сайте этой библиотеки: http://demos.jquerymobile.com/.

Кроме того, многие из упомянутых здесь свойств применяются в приложении социальной сети, где приводится довольно близкий к реальности сценарий и предоставляется отличная возможность посмотреть на способы адаптации ваших веб-страниц для работы на мобильных устройствах. Но прежде чем добраться до рассмотрения этих вопросов, мы поговорим об одной из самых популярных и быстро развивающихся платформ [[Введение в React|JavaScript React]].


---