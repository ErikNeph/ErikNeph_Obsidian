---
date of creation: 2024-07-13T02:38:00
tags:
  - JavaScript
  - IT/JavaScript
  - JQuery
  - JS/JQuery
  - Developing/JS
  - jQueryMobile
  - Framework/JS
  - Framework
read status: false
aliases:
  - Краткое знакомство с jQuery Mobile
---
---
# Введение в jQuery Mobile



После изучения [[Введение в JQuery]] и осознания того, что использование jQuery существенно экономит время и повышает эффективность разработки программ, вам, видимо, будет приятно узнать о дальнейшем расширении возможностей за счет применения библиотеки jQuery Mobile.

Созданная в качестве дополнения к jQuery, библиотека jQuery Mobile требует включения в веб-страницу обеих этих библиотек (а также использования файла CSS и дополнительных изображений). Это позволяет при просмотре страницы на смартфонах и других мобильных устройствах воспользоваться полностью интерактивным интерфейсом.

Библиотека jQuery Mobile позволяет переделывать обычные веб-страницы, превращая их в страницы для мобильных устройств с помощью технологии под названием *[[Постепенное улучшение|постепенное улучшение]]* (при использовании которой сначала для получения наилучшего отображения применяются основные функции браузера, а затем происходит добавление функциональной насыщенности по мере раскрытия возможностей имеющегося на устройстве браузера). В библиотеке применяются также функции так называемого *[[Адаптивный веб-дизайн|адаптивного веб-дизайна]]* (благодаря чему достигается весьма качественное отображение веб-страниц на широком диапазоне устройств при различных размерах окон и экранов).

Основная цель данной главы не заключается в том, чтобы научить вас абсолютно всему, что нужно знать о jQuery Mobile, для чего может понадобиться целая книга! Мне хочется снабдить вас информацией, достаточной для преобразования любого не слишком большого объема веб-страниц в выстраиваемое в логическую последовательность быстрое и красивое веб-приложение со всеми слайд-показами страниц и другими переходами, ожидаемыми от современного сенсорного устройства, а также с более крупными и удобными в использовании значками, полями ввода и другими усовершенствованиями ввода и навигации.

С этой целью будет рассмотрен лишь небольшой объем основных функций jQuery Mobile, позволяющий приступить к разработке вполне понятных и работающих решений, способных запускаться как на настольных компьютерах, так и на мобильных платформах. Наряду с этим будут рассмотрены сложности, с которыми можно столкнуться на пути предлагаемой адаптации веб-страниц под мобильные устройства, и способы их преодоления. После освоения работы с библиотекой jQuery Mobile станет проще ориентироваться в онлайн-документации при поиске функциональных свойств, необходимых при разработке ваших собственных проектов.

>[!info]
>Кроме постепенного улучшения способа отображения вашего кода HTML в зависимости от возможностей браузера, на котором он обнаружит себя запущенным, библиотека jQuery Mobile также постепенно улучшает обычную HTML-разметку на основе используемых тегов и набора пользовательских атрибутов данных. Некоторые элементы подвергаются автоматическому улучшению, не нуждаясь при этом в каких-либо атрибутах данных (например, элементы выбора проходят автоматическое преобразование в меню), а некоторые требуют для усовершенствования наличия атрибутов данных. Полный перечень подмдерживаеых атрибутов данных можно найти в документации по API: http://api.jquerymobile.com/data-attribute.


### Включение **`jQuery Mobile`**
---

Включить jQuery Mobile в ваши веб-страницы можно двумя способами. Можно перейти на страницу загрузки http://jquerymobile.com/download/, выбрать нужную версию, загрузить файлы на ваш веб-сервер (включая таблицы стилей и сопутствующие изображения, поставляемые вместе с библиотекой) и пользоваться всем этим отсюда.

Например, если в корневой каталог документов вашего сервера загружена библиотека jQuery Mobile 1.4.5 (это последняя версия на момент написания книги) и ее CSS-файл, можно включать в веб-страницу их и сопутствующую им JavaScript-библиотеку jQuery, у которой, применительно ко времени написания книги, должна быть версия 2.2.4. Следует отметить, что прошло немало времени с момента обновления jQuery Mobile, и мне интересно, могут ли из-за этого другие технологии в ближайшем будущем превзойти эту библиотеку:

```html
<link href="http://myserver.com/jquery.mobile-1.4.5.min.css" rel="stylesheet">

<script src='http://myserver.com/jquery-2.2.4.min.js'></script>
<script src='http://myserver.com/jquery.mobile-1.4.5.min.js'></script>
```

Или же, как и в случае применения jQuery, можно воспользоваться предлагаемой в свободном доступе сетью доставки контента — content delivery network (CDN) и просто сослаться на требуемую вам версию (или версии). Свой выбор можно остановить на одной из трех основных CDN-сетей (Max CDN, Google CDN и Microsoft CDN), нужные файлы из которых извлекаются следующими способами:

```html
<!-- Retrieving jQuery & Mobile via Max CDN -->
<link rel="stylesheet"
href="http://code.jquery.com/mobile/1.4.5/jquery.mobile 1.4.5.min.css">
<script src="http://code.jquery.com/jquery-2.2.4.min.js"></script>
<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"> </script>

<!-- Retrieving jQuery & Mobile via Google CDN -->
<link rel="stylesheet" href=
"http://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.css">
<script src=
"http://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src=
"http://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.js">
</script>

<!-- Retrieving jQuery & Mobile via Microsoft CDN -->
<link rel="stylesheet" href=
"http://ajax.aspnetcdn.com/ajax/jquery.mobile/1.4.5/jquery.mobile-1.4.5.min.css">
<script src=
"http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.4.min.js">
</script>
<script src=
"http://ajax.aspnetcdn.com/ajax/jquery.mobile/1.4.5/jquery.mobile-1.4.5.min.js">
</script>
```

Вероятно, один из наборов этих инструкций вам захочется разместить в **`<head>`** разделе страницы.


## Начало работы
---

Давайте сразу углубимся в тему, наблюдая за общим внешним видом веб-страницы jQuery Mobile, воспользовавшись кодом, показанным в **примере 23.1**. По сути, ничего сложно в этом не будет, и данное беглое ознакомление поможет быстро разложить по своим местам весь остальной материал данной главы.

>**Пример 23.1.** Одностраничный шаблон jQuery Mobile
```html
<!DOCTYPE html>
<html lang="ru"> 

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Single page template</title>
  <link rel="stylesheet" href="jquery.mobile-1.4.5.min.css">
  <script src="jquery-2.2.4.min.js"></script>
  <script src="jquery.mobile-1.4.5.min.js"></script>
</head>

<body>
  <div data-role="page">
    <div data-role="header">
      <h1>Single page</h1>
    </div>
    <div data-role="content">
      <p>Это однострочный шаблон страницы</p>
    </div>
    <div data-role="footer">
      <h4>Footer content</h4>
    </div>
  </div>
</body>  

</html>
```

При изучении предыдущего примера видно, что он начинается со стандартных и вполне ожидаемых элементов HTML5. Первым необычным элементом, который может броситься в глаза в разделе **`<head>`**, станет настройка окна просмотра **`viewport`**, осуществляемая внутри тега **`<meta>`**. Этот тег должен присутствовать на всех ваших веб-страницах, поскольку большинство пользователей в настоящее время просматривают веб-страницы с мобильных устройств.

Эта строка кода указывает мобильным браузерам на необходимость установки ширины показываемого документа на ширину окна браузера и на начало работы с документом без увеличения или уменьшения его изображения.

При отображении в браузере, где высота больше ширины, страница выглядит как на **рис. 23.1.**

>![[Рис. 23.1. Отображение одностраничного шаблона jQuery Mobile в окне браузера.jpg]]
>**Рис. 23.1.** Отображение одностраничного шаблона jQuery Mobile в окне браузера

После обозначения заголовка страницы загружается CSS для jQuery Mobile, затем загружается библиотека jQuery 2.2.4 и библиотека jQuery Mobile 1.4.5. Если хотите, можете загрузить их из сети CDN, о чем уже говорилось в разделе «Включение jQuery Mobile» ранее в этой главе.

>[!info]
>В примерах, сопровождающих эту главу, есть папка с именем images, содержащая значки и другие изображения, востребованные таблицами CSS. Если для загрузки CSS и файлов библиотек JavaScript используется сеть CDN, необходимость включения этой папки в ваш собственный проект может отпасть, поскольку вместо нее нужно будет воспользоваться папкой изображений, принадлежащей сети CDN.

Переместившись к разделу **`<body>`**, следует заметить, что главная веб-страница помещена в **`<div>`**-элемент, содержащий еще три **`<div>`**-элемента для заголовка, контента и нижнего колонтитула страницы, у каждого из которых имеется соответствующее свойство **`data-role`**.

Из этого складывается основная структура веб-страницы jQuery Mobile. Связывание страниц предполагает загрузку новых страниц и добавление их в DOM-модель с использованием асинхронного режима обмена данными. После загрузки страница может выводиться на экран множеством способов, включая мгновенную замену прежней страницы, плавное выведение новой страницы, постепенное превращение старой страницы в новую, наплыв новой страницы на старую и т. д.

>[!info]
>Из-за асинхронной загрузки веб-страниц тестирование вашего кода jQuery Mobile всегда нужно проводить на веб-сервере, а не в локальной файловой системе. Это связано с тем, что именно веб-сервер обеспечивает асинхронную загрузку веб-страниц, необходимую для правильного обмена данными. Для этого достаточно системы AMPPS, при условии, что вы получаете доступ к файлам, используя localhost:// или http://127.0.0.1/.


## Связывание страниц
---

Библиотека jQuery Mobile позволяет связывать страницы обычным способом и выполнять (по возможности) асинхронною обработку страничных запросов, чтобы обеспечить применение любых выбранных вами переходов.

Это позволяет сосредоточиться просто на создании веб-страниц, возложив на средства библиотеки jQuery Mobile обязанности по формированию их удобного внешнего вида и быстрому их выводу на экран в профессиональном качестве.

Чтобы включить анимированные переходы от страницы к странице, все ссылки, указывающие на внешние страницы, приведут к загрузке страниц в асинхронном режиме. В jQuery Mobile это достигается за счет превращения всех ссылок вида **`<a href...>`** в асинхронные запросы на обмен данными (также известные как Ajax), с последующим выводом на экран кругового индикатора загрузки на время выполнения запроса. Очевидно, что это относится только к ссылкам на внутренние страницы.

>[!info]
>Смена страниц после щелчка на ссылке выполняется в библиотеке jQuery Mobile за счет «перехвата» щелчков при доступе к событию event. preventDefault и последующего предоставления собственного особого кода jQuery Mobile.

Если запрос завершен успешно, к DOM-модели добавляется содержимое новой страницы, а затем происходит визуализация выбранной новой страницы с использованием перехода либо по умолчанию, либо по вашему выбору.

При неудачном завершении запроса ненадолго будет выведено небольшое и ненавязчивое уведомительное сообщение об ошибке, которое не помешает навигации по страницам.


### Синхронная связанность
---
