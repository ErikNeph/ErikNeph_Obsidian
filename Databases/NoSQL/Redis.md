---
title: Redis
date of creation: 2025-03-26T05:18:00
tags:
  - Backend
  - Database
  - NoSQL
  - Web
  - IT
  - IT/WEB
  - Developing
  - Cache
read status: true
completion status: true
aliases:
---
# Redis
---

Простыми словами **Redis** (англ. **R**emote **D**ictionary **S**erver) – это система управления базами данных в виде структур. Redis хранит данные по принципу “ключ - значение”. 

==Redis – вспомогательная система, которая отвечает за хранилище и кэш основной базы данных==. Программа впервые появилась в 2009 года и по-прежнему регулярно обновляется. 

Redis поддерживает все самые распространенные языки программирования: [[Python]], [[Golang]], семейство C, [[Java]], [[Ruby]], [[Perl]], [[PHP]] и [[JavaScript]].



## Плюсы Redis
---

- **Производительность**. Система поддерживает хранение данных исключительно в оперативной памяти сервера. Благодаря этому снижается нагрузка на ядро, а пропускная способность увеличивается – Редис выполняет огромное количество операций каждую секунду.
- **Функциональность**. Работая с Redis, вы можете создать самый сложный код с меньшим количеством простых строк. 
- **Асинхронная репликация**. Это значит, что если вы скопируйте информацию на несколько связанных серверов, это позволит распределить запросы между несколькими серверами, что важно для увеличения скорости чтения.
- **Масштабируемость**. В Redis есть возможность настроить кластерную архитектуру, выбрать размер кластера или нарастить его. Таким образом ваши проекты будут работать быстро и надежно.
- **Гибкость**. В отличие от обычных хранилищ в Redis можно работать с неструктурированными данными – они хранятся по типам: строки, списки, потоки и другие. Также вы можете добавить дополнительные типы данных.

**Redis — это база данных, размещаемая в памяти, которая используется, в основном, в роли кеша, находящегося перед другой, «настоящей» базой данных, вроде MySQL или PostgreSQL**. Кеш, основанный на Redis, помогает улучшить производительность приложений. Он эффективно использует скорость работы с данными, характерную для памяти, и смягчает нагрузку центральной базы данных приложения, связанную с обработкой следующих данных:

- Данные, которые редко меняются, к которым часто обращается приложение.
    
- Данные, не относящиеся к критически важным, которые часто меняются.
    

Примеры таких данных могут включать в себя сессионные кеши или кеши данных, а так же содержимое панелей управления — вроде списков лидеров и отчётов, включающих в себя данные, агрегированные из разных источников.

>![Традиционный подход к использованию Redis выглядит следующим образом: клиент обращается к приложению, а оно получает необходимые для выполнения его запроса данные. Сначала (пункт 1 на рисунке) приложение обращается к кешу Redis представленному главной базой данных (Main). Если данные в кеше есть, произошло попадание кеша, выполняется обычный возврат данных. Если произошёл промах кеша (пункт 2), система обращается к постоянному хранилищу (в данном случае — базе данных MySQL). Данные из него (пункт 3) загружаются в кеш, после чего ими сможет воспользоваться приложение.](https://habrastorage.org/r/w1560/getpro/habr/upload_files/68f/25f/d1c/68f25fd1cedc89b95d18190a3e0a89bd.jpeg "Традиционный подход к использованию Redis выглядит следующим образом: клиент обращается к приложению, а оно получает необходимые для выполнения его запроса данные. Сначала (пункт 1 на рисунке) приложение обращается к кешу Redis представленному главной базой данных (Main). Если данные в кеше есть, произошло попадание кеша, выполняется обычный возврат данных. Если произошёл промах кеша (пункт 2), система обращается к постоянному хранилищу (в данном случае — базе данных MySQL). Данные из него (пункт 3) загружаются в кеш, после чего ими сможет воспользоваться приложение.")
*Традиционный подход к использованию Redis выглядит следующим образом: клиент обращается к приложению, а оно получает необходимые для выполнения его запроса данные. Сначала (пункт 1 на рисунке) приложение обращается к кешу Redis представленному главной базой данных (Main). Если данные в кеше есть, произошло попадание кеша, выполняется обычный возврат данных. Если произошёл промах кеша (пункт 2), система обращается к постоянному хранилищу (в данном случае — базе данных MySQL). Данные из него (пункт 3) загружаются в кеш, после чего ими сможет воспользоваться приложение.*

Но во многих случаях Redis гарантирует достаточно высокий уровень сохранности данных, что позволяет использовать эту СУБД в роли настоящей основной базы данных. А добавление в систему плагинов Redis и различных конфигураций высокой доступности (High Availability, HA) делает базу данных Redis крайне интересной для определённых сценариев использования и рабочих нагрузок.

Ещё одна важная особенность Redis заключается в том, что эта СУБД размывает границы между кешем и хранилищем данных. Тут важно понять то, что чтение данных из памяти и работа с данными, находящимися в памяти, гораздо быстрее чем те же операции, выполняемые традиционными СУБД, использующими обычные жёсткие диски (HDD) или твердотельные накопители (SSD).

>![Временные характеристики задержек и пропускной способности систем, о которых стоит знать каждому программисту.](https://habrastorage.org/r/w1560/getpro/habr/upload_files/ced/927/e78/ced927e784542f7efe5898dea3df5939.jpeg "Временные характеристики задержек и пропускной способности систем, о которых стоит знать каждому программисту.")
*Временные характеристики задержек и пропускной способности систем, о которых стоит знать каждому программисту.*

## Для каких задач подойдет Redis
---

Самые распространенные цели использования Redis:

- **Хранение сессий пользователей**. К примеру, части HTML-кода страниц или товарные позиции в корзине магазина.
- **Кэширование данных основного хранилища**. С помощью Redis cache можно снизить нагрузку на основное хранилище и приложение без необходимости наращивать мощности на серверах.
- **Хранение промежуточных данных**. Это могут быть формы, таблицы, сообщения на стене.
- **Брокер сообщений**. При отправке сообщений можно не тратить много времени и ресурсов.
- **СУБД как для крупных проектов, так и небольших приложений**. Весь трафик распределяется равномерно.
- **Хранение “быстрых” данных**. Например, для аналитики и других случаев, когда важна скорость и отсутствие задержек передачи.
- **Машинное обучение**. Скоростное хранилище, которое использует система для информации, позволяет быстро обрабатывать большие объемы данных и автоматизировать принятие решений. 


## Какие типы данных поддерживает Redis 
---

По умолчанию система поддерживает следующие типы данных:

- строковые;
- потоковые;
- геоданные;
- хеш-таблицы;
- битовые массивы и поля;
- списки;
- множества, в том числе упорядоченные;
- HyperLogLog.

>![Типы данных Redis](https://habrastorage.org/r/w1560/getpro/habr/upload_files/2cc/bd1/d1d/2ccbd1d1db0adfe14542fa9c85ed1aa7.jpeg "Типы данных Redis")
   *Типы данных Redis*

## Различия [[Redis]] от [[Memcached]]
---

==Хранилище Memcached создал в 2003 году Брэд Фицпатрик==. *Оно появилось на 6 лет раньше Redis. Сначала это был Perl-проект, а позже его переписали на C.* В своё время Memcached был стандартным инструментом кеширования. Главные различия между ним и Redis заключаются в том, что в Memcached имеется меньше типов данных, и в ограничениях, связанных с политикой вытеснения ключей. Memcached поддерживает лишь политику LRU (Least Recently Used), когда первыми вытесняются данные, которые не использовались дольше всех.

Ещё одно отличие этих хранилищ заключается в том, что Redis — это однопоточная система, а [[Memcached]] — многопоточная. Memcached может показывать отличные результаты производительности в ограниченных окружениях кеширования. А при использовании этой системы в распределённом кластере нужны дополнительные настройки. Redis же поддерживает подобные сценарии работы сразу после установки.

В следующей таблице приведены сведения об актуальных в наши дни различиях между Memcached и Redis.

| **Характеристика**                                | **Memcached** | **Redis** |
| ------------------------------------------------- | ------------- | --------- |
| Задержки менее миллисекунды                       | Да            | Да        |
| Простота использования для разработчиков          | Да            | Да        |
| Секционирование данных                            | Да            | Да        |
| Поддержка широкого набора языков программирования | Да            | Да        |
| Продвинутые структуры данных                      | Нет           | Да        |
| Многопоточная архитектура                         | Да            | Нет       |
| Снепшоты                                          | Нет           | Да        |
| Репликация                                        | Нет           | Да        |
| Транзакции                                        | Нет           | Да        |
| Поддержка модели «издатель/подписчик»             | Нет           | Да        |
| Поддержка Lua-скриптов                            | Нет           | Да        |
| Поддержка геопространственных данных              | Нет           | Да        |

В наши дни Redis поддерживает настройку того, как именно данные сохраняются на диск. А в самом начале эта система использовала снепшоты, когда асинхронные копии данных, находящихся в памяти, отправляли на диск для долговременного хранения. К сожалению, у этого механизма имеется недостаток, выражающийся в возможной потере данных, изменённых или добавленных в хранилище на временных интервалах между снепшотами.

Хранилище Redis, с момента его появления в 2009 году, серьёзно развилось. Мы рассмотрим большую часть архитектурных и топологических решений, характерных для Redis, что позволит вам, изучив эту систему, включить её в состав своего арсенала систем хранения данных.

## Основные команды Redis
---

Общие команды, которые можно применять для любого типа данных:

- _exists_ — возвращает 1, если ключ существует и 0, если нет.
- _del_ - удаляет ключ.
- _type_ - возвращает тип значения по ключу.
- _expire_ - удаляет ключ по прошествии указанного времени.
- _ttl_ - возвращает число: сколько времени осталось ключу до удаления.

Полный список команд вы можете посмотреть на [официальном сайте](https://redis.io/commands) Redis.


## Как запустить Redis
---

Самый простой способ для начала работы с системой – использовать команду:

```shell
redis-server
```


## Заключение
---

В этой статье мы рассмотрели, что такое и зачем нужен Redis. Нет сомнений, что это одна из самых производительных [[СУБД]] – об этом говорит время  отклика сервера, которое занимает доли миллисекунд. Именно по этой причине Redis востребован в проектах, где необходимо работать с большим количеством данных: аналитика, разработка, потоковая передача, работа с геоданными и многие другие.

Кроме того, настройка Redis происходит гибко благодаря тому, что сервер хранит данные в структурах данных, а не строго в схемах.
