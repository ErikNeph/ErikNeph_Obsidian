---
title: Dockerfile
date of creation: 2025-05-28T17:44:00
tags:
  - Docker
  - Developing
  - IT/Developing
  - IT
read status: true
completion status: true
aliases:
  - Пишем Dockerfile
---
# Dockerfile
---

**Dockerfile** – это текстовый файл, содержащий серию команд. В листинге 1.1 приведен файл **Dockerfile**, который мы будем использовать в этом примере. Заведите новую папку, перейдите в нее и создайте файл с именем «Dockerfile» с таким содержимым:

*Листинг 1.1. Файл Dockerfile*
```dockerfile
FROM node
LABEL maintener ian.miell@gmail.com
RUN git clone -q https://github.com/docker-in-practice/todo.git
WORKDIR todo
RUN npm install > /dev/null
EXPOSE 8000
CMD ["npm", "start"]
```
![[Файл Dockerfile с пояснением.excalidraw|700x300]]
Файл Dockerfile начинается с определения базового образа с помощью команды `FROM`. В этом примере используется образ Node.js, поэтому у вас есть доступ к двоичным файлам Node.js. Официальный образ Node.js называется node.
Далее вы объявляете автора с помощью команды `LABEL`. В этом случае мы используем один из наших адресов электронной почты, но вы можете заменить его своей ссылкой, поскольку теперь это ваш файл Dockerfile. Эта строка не обязательна для создания рабочего образа Docker, но рекомендуется ее включить. На этом этапе сборка унаследовала состояние node­контейнера, и вы готовы работать над ним.
Затем вы клонируете код приложения с помощью команды `RUN`. Указанная команда используется для получения кода приложения, выполняя git внутри контейнера. В этом случае Git устанавливается внутри базового образа, но нельзя принимать это как должное.
Теперь вы перемещаетесь в новый клонированный каталог с помощью команды `WORKDIR`. Это не только меняет каталоги в контексте сборки, но и последняя команда `WORKDIR` определяет, в каком каталоге вы находитесь по умолчанию, когда запускаете свой контейнер из собранного образа.
Затем вы запускаете команду установки менеджера пакетов Node.js (npm). Она установит зависимости для вашего приложения. В этом примере вывод вас не интересует, поэтому вы перенаправляете его в /dev/null.
Поскольку порт 8000 используется приложением, вы применяете команду `EXPOSE`, чтобы сообщить Docker, что контейнеры из собранного образа должны прослушивать этот порт.
Наконец, вы используете команду `CMD`, чтобы сообщить [[Docker]], какая команда будет выполнена при запуске контейнера.
Этот простой пример иллюстрирует несколько ключевых особенностей Docker и файлов **Dockerfiles**. **Dockerfile** – это простая последовательность ограниченного набора команд, выполняемых в строгом порядке. Это оказывает воздействие на файлы и метаданные полученного образа. Здесь команда `RUN` влияет на файловую систему, проверяя и устанавливая приложения, а команды `EXPOSE`, `CMD` и `WORKDIR` – на метаданные образа.