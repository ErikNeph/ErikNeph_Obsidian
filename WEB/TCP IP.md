---
title: TCP IP
date of creation: 2025-04-11T21:35:00
tags:
  - Web
  - Web/Protocol
  - Protocol
  - Terminology
  - Web/Terminology
read status: false
completion status: false
aliases:
  - TCP/IP
---
# TCP IP
---

**TCP/IP** (**Transmission Control Protocol/Internet Protocol**) – это модель передачи цифровых данных. Протокол передачи TCP/IP описывает правила передачи данных, стандарты связи между компьютерами, а также содержит соглашения о маршрутизации и межсетевом взаимодействии.

**[[IP]]** — отвечает за передачу пакетов данных между компьютерами в сети.

Что такое протокол и для чего он нужен? [[Протокол]] – это набор правил, благодаря которым устройства обмениваются данными через интернет. Эти правила сообщают устройствам о том:

- Как начинать общение и приветствовать другую сторону.
- Как договориться с другим устройством о параметрах передачи данных.
- Что делать при ошибках.
- Как узнать, что передача данных закончена.

Сетевые протоколы TCP/IP обеспечивает связь между устройствами, работающими через интернет. Обычно эти устройства называют хостами. Хотя существуют и другие протоколы передачи данных, TCP/IP выделяется тем, что при его работе обеспечивается аппаратная независимость.

Это значит, что работа протокола не зависит от особенностей аппаратного обеспечения, он позволяет организовать обмен данными между любыми устройствами с различной технологией передачи данных. Кроме этого, сетевая модель TCP/IP определяет стандарты для множества различных служб связи конечных пользователей.

Благодаря TCP/IP возможны такие действия:

- Передача данных в другую систему.
- Вход в удаленную систему.
- Управление сетью.
- Отправка сообщений удаленным пользователям.
- Выполнение удаленных команд.
- Печать файлов из удаленной системы.


## Как настроить TCP/IP
---

Настройка TCP/IP происходит в разделе основных настроек компьютера.

### [[Windows]]

1. В меню Пуск выберите Сеть и интернет.
2. Далее перейдите в раздел Ethernet.
3. В открывшемся окне найдите пункт Настройка параметров адаптера.
4. Затем снова выберите пункт Ethernet, нажав на него правой кнопкой мыши, и выберите раздел свойства.
5. В открывшемся окне двойным щелчком по левой кнопке мыши выберите пункт IP версии 4 (TCP/IPv4).
6. В новом окне отметьте точками: Получить IP-адрес автоматически и Получить адрес [[DNS]]-сервера автоматически.
7. На вкладке Альтернативная конфигурация отметьте точку Автоматический частный IP-адрес.
8. Нажмите ОК, чтобы сохранить настройки.

### [[MacOS]]

1. Выберите меню Apple и перейдите в Системные настройки.
2. Зайдите в раздел Сеть.
3. Слева выберите сетевую службу, которую используете.
4. Далее нажмите Подробнее.
5. Выберите раздел TCP/IP.
6. Для адреса [[IPv4]], кликните всплывающее меню «Конфигурация IPv4».
7. Выберите здесь один из вариантов, потом введите адрес IPv4, маску подсети и адрес маршрутизатора.
8. Для адреса [[IPv6]], кликните всплывающее меню «Конфигурация IPv6»
9. Выберите один из вариантов, потом введите адрес маршрутизатора, адрес IPv6 и длину префикса.
10. Если у вас есть ID клиента DHCP, укажите его.
11. Нажмите ОК.


## Что такое [[Веб Сокет|Веб-Сокет]]
---

**[[Веб Сокет]]** — это программный механизм, который обеспечивает сетевое взаимодействие, помогает осуществлять передачу информации от одного компьютера к другому. Он представляет собой конструкцию, состоящую из [[IP-адрес|IP-адреса]] и номера [[Port|Порт]].

Сокет был придуман для того, чтобы облегчить программистам процесс написания кодов. При работе с сокетами программистам не надо разбираться с [[IP]] и [[Port|портами]], при программировании он указывает, что хочет создать сокет и обозначает для него [[IP-адрес]]. Программа, в которой работает специалист, создает сокет. Далее информация отправляется и принимается в сокете, а программа отвечает за ее передачу.

Основное назначение сокетов – передача данных через сеть и обеспечение связи между различными приложениями.

При настроенных сокетах в двух разных приложениях можно осуществлять передачу данных без дополнительных программ. Например, чтобы получить информацию из мобильного приложения, сервер запускает сокет для связи с этим приложением. Само приложение также открывает сокет, чтобы связаться с сервером. После этого происходит обмен данными между сервером и приложением.

Чтобы к серверу можно было одновременно подключиться нескольким приложениям, сервер делает копии сокетов.


## Для чего нужны порты
---

Сетевые порты представляют собой 16-ти битное число от 1 до 65535, которое определяет назначение пакетов данных в пределах одного хоста. Они необходимы, чтобы осуществлять передачу информации определенного вида. Все хосты передают данные при помощи IP-адресов, когда происходит подключение к сети, порты определяют к какой программе относятся передаваемые файлы. Основные программы это:

- [[Веб-сервер|Web-server]], для трансляции с веб-сайтов.
- Почтовый сервер, для обмена электронными письмами.
- [[FTP|FTP-сервер]], для передачи информации.

Например, пользователь на своем ноутбуке открывает браузер и вбивает поисковый запрос, веб-сервер при этом автоматически отправляет данные по протоколу TCP/IP в порт 80.

При работе с почтовым клиентом Outlook используется два стандартизированных порта: порт 110 – для получения электронных сообщений и порт 25 – для отправки писем к адресату.

Важно знать, что порты обеспечивают доступ в интернет не только полезным программам, но и вирусам, которые могут открывать порты без согласия пользователя и считывать данные на его компьютере.


## Что можно делать с портом
---

- ***Открыть***. Чтобы знать куда направлять данные, которые пришли по адресу порта.
- ***Закрыть***. Чтобы прекратить передачу данных.
- ***Пробросить***. Если запрос пришел на порт 1020, отправить его на порт 2020.
- ***Просканировать***. То есть проверить числа от 0 до 65535 на предмет ответа от кого-то из них. Если ответ найден, то это будет означать, что на этом порту работает какая-то программа. Это поможет найти уязвимости и вредоносные программы.
- ***Заблокировать***. Например, для того, чтобы не допустить посторонних к открытому порту.
- ***Задать***. Если для работы программы требуется порт, который у вас заблокирован, ей можно создать другой порт и проводить обмен данными через него.


## Уровни протоколов TCP/IP
---

Одной из основных и первых моделей передачи данных была [[OSI]] **(The Open Systems Interconnection model)**. В соответствии с ней происходит работа сетевых протоколов, так как она устанавливает основные требования и правила. Модель OSI состоит из семи уровней, каждый из них определяет нормы сотрудничества систем между собой:

- Прикладной уровень
- Сеансовый уровень
- Уровень представления
- Транспортный уровень
- Сетевой уровень
- Канальный уровень
- Физический уровень

![[Модель OSI таблица.jpg]]

Несколько протоколов, работающих по определенным уровням, называют стеком протоколов. Современный интернет работает на стеке протоколов TCP/IP. Различают следующие уровни стека TCP/IP:

1. **Прикладной уровень TCP/IP**

Регулирует работу сетевых приложений, например, браузеры, программы для загрузки файлов по [[ftp]], почтовые клиенты, [[SSH]]. Эти программы могут использовать свои протоколы обмена данными.

На прикладном уровне передача информации осуществляется путем передачи пакета с данными от одного сетевого узла к другому. Пересылка данных от хоста-отправителя к хосту-получателю осуществляется при помощи протокола IP, который сообщает адрес получателя и указывает номер порта. Благодаря IP сеть определяет откуда пришел пакет данных и куда его следуют отправить.

Комбинация IP-адреса и номера порта передачи данных называется сокетом. Определенные порты используют для упрощения стандартов, каждый порт соответствует функциональному назначению приложения (Например, почтовый [[SMTP|SMTP-сервер]] использует 25 порт).

2. **Транспортный уровень TCP/IP**

Работу этого уровня определяют протоколы TCP (Transmission Control Protocol) и [[UDP]] (User Datagram Protocol). Протокол TCP анализирует переданные пакеты информации и, в случае ошибки, повторно запрашивает пакеты. Также он следит за верной последовательностью переданных пакетов. UDP – протокол без установки соединения, он выполняет небольшую проверку и считается ненадежным. Отправка информации с помощью UDP выполняется быстрее по сравнению с TCP.

Передача данных начинается с установки соединения: хост-клиент отправляет фрагмент данных с номером последовательности и флагом SYN (служит для обозначения начала установки соединения). Сервер выделяет память для обработки задачи и назад отправляет фрагмент с номером последовательности и флагами SYN и ACK (служит для обозначения получения подтверждения).

Получив флаг SYN, хост-клиент отправляет сегмент с флагом ACK, в том случае, когда этот флаг узел уже получил, включается режим ESTABLISHED ( или активное соединение). Если, повторив свой запрос, хост не получает ответа, то через некоторое время включается режим CLOSED (или завершение сеанса связи):

- Хост-получатель шлет хосту-отправителю флаг FIN (конец передачи данных).
- Узел возвращает флаги ответа ACK, FIN о завершении связи.
- Хост-клиент устанавливает соединение, и шлет хосту сигнал о завершении сессии в виде флага ACK (получение подтверждения).

3. **Межсетевой или сетевой уровень TCP/IP**

Так как глобальная сеть объединяет в себе множество локальных сетей, то сетевой уровень нужен для регламентирования передачи данных и взаимодействия локальных сетей.

Основные функции межсетевого уровня: доставка пакетов с информацией между сетями, выбор оптимального пути перемещения данных, согласование разных технологий передачи информации, фильтрация трафика, предотвращение перегрузок при передаче.

IP (Internet Protocol) – основной протокол межсетевого уровня. Он отвечает за перемещение пакетов между подсетями - от одного пограничного маршрутизатора до другого, пока данные не достигнут сети назначения.

4. **Канальный уровень TCP/IP**

При передаче информации от одного хоста к другому все данные делятся на пакеты, которые передаются по нужным каналам связи. Канальный уровень определяет физические свойства обмена информацией: максимальное расстояние передачи пакетов, частота сигнала, возможное время задержки ответа от хоста.

Чаще всего на этом уровне используют протокол Ethernet, он определяет проводные соединения и электросигналы на физическом уровне. Когда хост собирается передать пакет информации, он проверяет свободен ли канал в этот момент (по наличию несущей частоты в кабеле). Если частота не найдена, то начинается передача данных. Передача информации ограничивается по времени, она не может превышать, а также быть меньше заданной величины. Это необходимо для предотвращения единоличного использования сети одним компьютером и доступом к сети другим пользователям.

Зачем нужны уровни сетевой модели TCP/IP? Передача файлов между двумя хостами напрямую невозможна. Сначала пакеты данных попадают на сетевой уровень, чтобы получить IP-адрес. На транспортном уровне, с помощью протокола TCP, отдельные части данных передаются хосту. На каждом уровне к передаваемым файлов добавляется служебная информация: например, указание порта, чтобы распознать приложение. Кроме того, информацию могут добавлять протоколы Ethernet, IP, TCP и другие.

Такое наслоение правил и дополнительной информации называется стеком. Таким образом, стек – набор сетевых протоколов с иерархической структурой. Главная задача стека – достаточный набор правил, который обеспечивает взаимодействие устройств в интернете.

Чтобы все протоколы могли работать одновременно и не конфликтовали между собой, были выделены уровни стека протоколов TCP/IP. Каждый уровень решает свою определенную задачу, что снижает возникновение сбоев и незавершенных операций.

## Заключение

Протокол интернета TCP/IP популярен своей возможностью реализовать широкий набор функций: совместное использование файлов, принтеров, удаленный доступ к системам и серверам. Стек TCP/IP – надежный набор протоколов, благодаря которым легко налаживаться работа приложений, а управление маршрутизацией удобно настраивается.
