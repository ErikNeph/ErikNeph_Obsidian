---
title: Маршрутизатор
date of creation: 2024-10-12T20:23:00
tags:
  - Web
  - IT
  - IT/WEB
  - Internet
read status: false
aliases:
---
---
# Маршрутизатор

**Маршрутизатор или же Роутер** – это одно из самых важных устройств для тех, кто хочет разобраться в сетевой инфраструктуре. Он позволяет выбирать оптимальный путь передачи данных между компьютерами, обеспечивая стабильное соединение и безопасность сети. Несмотря на то, что это слово может показаться непонятным, его функции и принцип работы довольно легко понять. 

Важно понимать, что роутер выполняет ряд задач, которые помогают оптимизировать работу сети. Например, он может обрабатывать пакеты информации и управлять трафиком, давая возможность пользователям получать доступ к интернету без проблем. Кроме того, благодаря роутеру можно создавать внутренние сети и обеспечивать защиту данных.

Итак, роутер – это не просто слово из мира компьютерных технологий, это устройство, которое помогает нам оставаться в сети, выбирать путь передачи данных и сохранять информацию в безопасности. Разобравшись в его работе, можно значительно улучшить качество своего интернет-подключения и защитить свои данные от несанкционированного доступа. 


### Принцип работы
---

Обычно маршрутизатор использует адрес получателя, указанный в заголовке [пакета](https://ru.wikipedia.org/wiki/%D0%9F%D0%B0%D0%BA%D0%B5%D1%82_(%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5_%D1%82%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8) "Пакет (сетевые технологии)"), и определяет по таблице маршрутизации путь, по которому следует передать данные. Если в таблице маршрутизации для адреса нет описанного маршрута — пакет отбрасывается.

Существуют и другие способы [определения маршрута](https://ru.wikipedia.org/wiki/%D0%9C%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F "Маршрутизация") пересылки пакетов, когда, например, используется адрес отправителя, используемые протоколы верхних [уровней](https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%B0%D1%8F_%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C_OSI "Сетевая модель OSI") и другая информация, содержащаяся в заголовках пакетов [сетевого уровня](https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%B0%D1%8F_%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C_OSI "Сетевая модель OSI"). Нередко маршрутизаторы могут осуществлять [трансляцию адресов](https://ru.wikipedia.org/wiki/NAT "NAT") отправителя и получателя, фильтрацию транзитного потока данных на основе определённых правил с целью ограничения доступа, шифрование/расшифровывание передаваемых данных и т. д.


### Таблица маршрутизации
---

[Таблица маршрутизации](https://ru.wikipedia.org/wiki/%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0_%D0%BC%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8 "Таблица маршрутизации") содержит информацию, на основе которой маршрутизатор принимает решение о дальнейшей пересылке пакетов. Таблица состоит из некоторого числа записей — маршрутов, в каждой из которых содержится идентификатор сети получателя (состоящий из адреса и [маски](https://ru.wikipedia.org/wiki/%D0%9C%D0%B0%D1%81%D0%BA%D0%B0_%D0%BF%D0%BE%D0%B4%D1%81%D0%B5%D1%82%D0%B8 "Маска подсети") сети), адрес следующего узла, которому следует передавать пакеты, [административное расстояние](https://ru.wikipedia.org/wiki/%D0%90%D0%B4%D0%BC%D0%B8%D0%BD%D0%B8%D1%81%D1%82%D1%80%D0%B0%D1%82%D0%B8%D0%B2%D0%BD%D0%BE%D0%B5_%D1%80%D0%B0%D1%81%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D0%B5 "Административное расстояние") — степень доверия к источнику маршрута и некоторый вес записи — метрика. Метрики записей в таблице играют роль в вычислении кратчайших маршрутов к различным получателям. В зависимости от модели маршрутизатора и используемых [протоколов маршрутизации](https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB_%D0%BC%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8 "Протокол маршрутизации"), в таблице может содержаться некоторая дополнительная служебная информация. Например:

```
192.168.64.0/18 [110/49] via 192.168.1.2, 00:34:34, FastEthernet0/0.1

где 192.168.64.0/18 — сеть назначения,
    110/- административное расстояние 
    /49 — метрика маршрута,
    192.168.1.2 — адрес следующего маршрутизатора, которому следует
                  передавать пакеты для сети 192.168.64.0/18,
    00:34:34 — время, в течение которого был известен этот маршрут,
    FastEthernet0/0.1 — интерфейс маршрутизатора, через который можно
                  достичь «соседа» 192.168.1.2.
```

Таблица маршрутизации может составляться двумя способами:

- **статическая маршрутизация** — когда записи в таблице вводятся и изменяются вручную. Такой способ требует вмешательства администратора каждый раз, когда происходят изменения в топологии сети. С другой стороны, он является наиболее стабильным и требующим минимума аппаратных ресурсов маршрутизатора для обслуживания таблицы.
- **динамическая маршрутизация** — когда записи в таблице обновляются автоматически при помощи одного или нескольких [протоколов маршрутизации](https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB_%D0%BC%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8 "Протокол маршрутизации") — [RIP](https://ru.wikipedia.org/wiki/RIP2 "RIP2"), [OSPF](https://ru.wikipedia.org/wiki/OSPF "OSPF"), [IGRP](https://ru.wikipedia.org/wiki/IGRP "IGRP"), [EIGRP](https://ru.wikipedia.org/wiki/EIGRP "EIGRP"), [IS-IS](https://ru.wikipedia.org/wiki/IS-IS "IS-IS"), [BGP](https://ru.wikipedia.org/wiki/Border_Gateway_Protocol "Border Gateway Protocol"), и др. Кроме того, маршрутизатор строит таблицу оптимальных путей к сетям назначения на основе различных критериев — количества промежуточных узлов, пропускной способности каналов, задержки передачи данных и т. п. Критерии вычисления оптимальных маршрутов чаще всего зависят от протокола маршрутизации, а также задаются конфигурацией маршрутизатора. Такой способ построения таблицы позволяет автоматически держать таблицу маршрутизации в актуальном состоянии и вычислять оптимальные маршруты на основе текущей топологии сети. Однако динамическая маршрутизация оказывает дополнительную нагрузку на устройства, а высокая нестабильность сети может приводить к ситуациям, когда маршрутизаторы не успевают синхронизировать свои таблицы, что приводит к противоречивым сведениям о топологии сети в различных её частях и потере передаваемых данных.

Зачастую для построения таблиц маршрутизации используют [теорию графов](https://ru.wikipedia.org/wiki/%D0%A2%D0%B5%D0%BE%D1%80%D0%B8%D1%8F_%D0%B3%D1%80%D0%B0%D1%84%D0%BE%D0%B2 "Теория графов")

### Применение
---

Маршрутизаторы помогают уменьшить загрузку сети благодаря её разделению на [домены коллизий](https://ru.wikipedia.org/wiki/%D0%94%D0%BE%D0%BC%D0%B5%D0%BD_%D0%BA%D0%BE%D0%BB%D0%BB%D0%B8%D0%B7%D0%B8%D0%B9 "Домен коллизий") или [широковещательные домены](https://ru.wikipedia.org/wiki/%D0%A8%D0%B8%D1%80%D0%BE%D0%BA%D0%BE%D0%B2%D0%B5%D1%89%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D0%B4%D0%BE%D0%BC%D0%B5%D0%BD "Широковещательный домен"), а также благодаря фильтрации пакетов[[3]](https://ru.wikipedia.org/wiki/%D0%9C%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%82%D0%BE%D1%80#cite_note-3). В основном их применяют для объединения сетей разных типов, зачастую несовместимых по архитектуре и [протоколам](https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB_%D0%BC%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8 "Протокол маршрутизации"), например, для объединения локальных сетей [Ethernet](https://ru.wikipedia.org/wiki/Ethernet "Ethernet") и [WAN](https://ru.wikipedia.org/wiki/WAN "WAN")-соединений, использующих протоколы [xDSL](https://ru.wikipedia.org/wiki/XDSL "XDSL"), [PPP](https://ru.wikipedia.org/wiki/PPP_(%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9_%D0%BF%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB) "PPP (сетевой протокол)"), [ATM](https://ru.wikipedia.org/wiki/ATM "ATM"), [Frame relay](https://ru.wikipedia.org/wiki/Frame_relay "Frame relay") и т. д. Нередко маршрутизатор[[4]](https://ru.wikipedia.org/wiki/%D0%9C%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%82%D0%BE%D1%80#cite_note-4) используется для обеспечения доступа из [локальной сети](https://ru.wikipedia.org/wiki/%D0%9B%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%B2%D1%8B%D1%87%D0%B8%D1%81%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D1%81%D0%B5%D1%82%D1%8C "Локальная вычислительная сеть") в глобальную сеть [Интернет](https://ru.wikipedia.org/wiki/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82 "Интернет"), осуществляя функции [трансляции адресов](https://ru.wikipedia.org/wiki/NAT "NAT") и [межсетевого экрана](https://ru.wikipedia.org/wiki/%D0%9C%D0%B5%D0%B6%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD "Межсетевой экран").

В качестве маршрутизатора может выступать как специализированное (аппаратное) устройство, так и обычный [компьютер](https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BC%D0%BF%D1%8C%D1%8E%D1%82%D0%B5%D1%80 "Компьютер"), выполняющий функции маршрутизатора. Существует несколько пакетов программного обеспечения (на основе ядра [Linux](https://ru.wikipedia.org/wiki/Linux_(%D1%8F%D0%B4%D1%80%D0%BE) "Linux (ядро)"), на основе операционных систем [BSD](https://ru.wikipedia.org/wiki/BSD "BSD")), с помощью которого можно превратить ПК в высокопроизводительный и многофункциональный маршрутизатор, например, [Quagga](https://ru.wikipedia.org/wiki/Quagga "Quagga"), [IPFW](https://ru.wikipedia.org/wiki/Ipfw "Ipfw") или простой в применении [PF](https://ru.wikipedia.org/wiki/Packet_Filter "Packet Filter").


### История изобретения
---

Основы концепции заложил (1966) Дональд Дэвис, конструируя британскую сеть NPL. Технологии быстро переняли американцы, стремящиеся соорудить слаженную линию обороны. Плата IMP (процессор интерфейса сообщений) выступала узлом сети, занимающимся коммутацией сообщений. Конструкция просуществовала[[5]](https://ru.wikipedia.org/wiki/%D0%9C%D0%B0%D1%80%D1%88%D1%80%D1%83%D1%82%D0%B8%D0%B7%D0%B0%D1%82%D0%BE%D1%80#cite_note-5) вплоть до распада СССР, упразднена в 1989 году, составив первое поколение шлюзов, ставшее эволюционно маршрутизаторами.

Первым маршрутизатором был мини-компьютер [Honeywell](https://ru.wikipedia.org/wiki/Honeywell "Honeywell") [DDP-516](https://ru.wikipedia.org/wiki/DDP-516 "DDP-516"), дополненный особым внешним интерфейсом связи. Часть коммутирующих функций отдали программному обеспечению. Впоследствии роль коммутаторов отдали Honeywell 316, лишённым особой защиты. Новички тянули примерно две трети производительности, стоя вдвое дешевле. Соединение с хостами вели посредством последовательной шины передачи данных. Оборудование, программное обеспечение обсуждает открытый (ныне) документ RFC 1, первый из выпущенных [IETF](https://ru.wikipedia.org/wiki/IETF "IETF").
